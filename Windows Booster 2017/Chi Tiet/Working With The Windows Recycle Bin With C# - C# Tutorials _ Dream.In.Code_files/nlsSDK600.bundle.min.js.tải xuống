/*
 Nielsen SDK package v6.0.0.81 
 (c) 2017 The Nielsen Company 
*/
!function(e,t){function a(e){return void 0!==s&&void 0!==d&&void 0!==l?s+"//cdn-gl"+d:"https://secure-gl.imrworldwide.com/"}function n(e){e&&e.hasOwnProperty("target")&&(O="true"===String(e.target).toLowerCase())}function r(){w=Date.now(),P=Math.ceil((w-h)/1e3)}function o(e){if(e&&e.hasOwnProperty("target")&&!isNaN(e.target))for(var t in _)!function(t){var a=_[t];if(void 0!==a&&a.hasOwnProperty("staticPage")&&a.staticPage.hasOwnProperty("evtParams")){"static"===a.staticPage.evtParams.param1.type&&a.ggPM("48",e.target,"","","")}}(t)}function i(i,v){function f(e){N.staticPage.hasOwnProperty("evtParams")&&N.ggPM("56",N.staticPage.evtParams.param1,N.staticPage.evtParams.param2,N.staticPage.evtParams.param3,N.staticPage.evtParams.param4)}function _(e,t){if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(k[e.type]instanceof Array)for(var a=k[e.type],n=0,r=a.length;n<r;n++)a[n].call(N,t)}function g(e){try{if(!e||!e.hasOwnProperty("cmsMap"))return[];var t=[];for(var a in e.cmsMap)e.cmsMap.hasOwnProperty(a)&&-1!==e.cmsMap[a].indexOf("nol_")&&t.push(e.cmsMap[a].replace(/[{(\[\])}]/g,""));return t}catch(e){}}function g(e){try{if(!e||!e.hasOwnProperty("cmsMap"))return[];var t=[];for(var a in e.cmsMap)e.cmsMap.hasOwnProperty(a)&&-1!==e.cmsMap[a].indexOf("nol_")&&t.push(e.cmsMap[a].replace(/[{(\[\])}]/g,""));return t}catch(e){}}function y(t){try{var a="Error in retrieveMeta";if(t&&t.hasOwnProperty("fData")&&t.hasOwnProperty("ad")&&t.hasOwnProperty("content")&&t.hasOwnProperty("plid")){var n=g({cmsMap:e.GLCFG.PLDPR.getCmsMap(t.plid)});for(var r in t.fData)if(t.fData.hasOwnProperty(r)){var o=t.fData[r][Object.keys(t.fData[r]).splice(-1,1)];if(void 0!==o)for(var i in o){var s=String(i);-1!==s.indexOf("nol_")&&-1===n.indexOf(s)||(t[r][i]=o[i])}}return t}return t&&t.hasOwnProperty("err")?(t.err=a+": Missing passedFdata, Ad, content or static properties",t):{err:a}}catch(e){}}function h(t){t&&(t.registerListener("ggPM",N),t._listeners&&(t._listeners.addListener("updateCmbStaticPage",N.handleUpdateOfStatic),t._listeners.addListener("removeCmbAssetId",N.removeAsset),t._listeners.addListener("tick",function(){r(),_("globalTick",{time:w,seconds:P})}),t._listeners.addListener("dcrHeartbeat",o),t._listeners.addListener("flushQueue",N.emptyQueue),t._listeners.addListener("handleSessionReset",N.handleSessionReset),t._listeners.addListener("flushPauseEventQueue",N.flushPauseEventQueue),t._listeners.addListener("sendOptOutStatus",n)),e.GLCFG=t)}function S(e){if(void 0!==e&&(!e||e.hasOwnProperty("url")&&0!==e.url.length)&&e.hasOwnProperty("retryDelay")&&e.hasOwnProperty("currRetry")&&e.hasOwnProperty("maxRetry")){({requestUrl:function(){var t=this;try{return++e.currRetry>e.maxRetry?t.logErr("maxRetry reached"):t.sendUrlRequest(e.url)}catch(e){t.logErr("Error in fireToUrl requestUrl: "+e)}},sendUrlRequest:function(a){var n=this;try{if(void 0===a)return;var r=new Image;r.onerror=function(a){t.setTimeout(function(){n.requestUrl()},e.retryDelay)},r.onload=function(e){},r.src=a+"&retry="+e.currRetry}catch(e){n.logErr("Error in fireToUrl sendUrlRequest: "+e)}},logErr:function(e){e&&t.console&&t.console.log&&console.log("Error: ",e)}}).requestUrl()}}var b,E,k={},I=[],M={},D=String(Date.now())+Math.round(1e4*Math.random()),x,A=5,B=-1,R,N=v||{};if(N.id=D,N.name=i,N.initialized=!1,N.staticPage={},N.modules={allModInit:!1},N.configLoaded=!1,N.apid="",N.sdkv=p,N.sdkvForConfig=L,N.useCachedConfig=void 0!==v&&null!==v,N.sessionId="",v)if(v.q){for(var F=null,V=0;V<v.q.length;V++)(F=v.q[V])&&F.length>0&&I.push({eventType:F[0],param1:F.length>1?F[1]:void 0,param2:F.length>2?F[2]:void 0,param3:F.length>3?F[3]:void 0,param4:F.length>4?F[4]:void 0});delete v.q}else v.getEventQue&&(I=v.getEventQue());var G={_queueEventLog:!1,_eventLog:[],init:function(){try{var t=e.controllers.util.queryParam("nol_eventHookDelay");if(G._queueEventLog=!1,t){var a=parseInt(t);"NaN"!==a.toString()&&(G._queueEventLog=!0,setTimeout(function(){G._queueEventLog=!1},1e3*(a<=20?a:20)))}}catch(e){G._queueEventLog=!1}},trigger:function(t,a){try{if(a){var n=JSON.parse(JSON.stringify(a));n.name=t.name,n.sdkv=L,G._queueEventLog?G._eventLog.push(n):(G._eventLog&&G._eventLog.length>0&&(e.controllers.util.fireCustomEvent("NSDK_EventHook",G._eventLog),G._eventLog=[]),e.controllers.util.fireCustomEvent("NSDK_EventHook",[n]))}}catch(e){}}},U=function(e,a){return function(n,r){try{a.browserSafeAddEventListener({element:t,eventType:"NSDK_Initialized",func:function(t){try{t.detail.instanceName===e&&n(t.detail.instance)}catch(e){r&&r(e.message)}}})}catch(e){r&&r(e.message)}}}(N.name,e);return N.getOptOutStatus=function(){return O},N.getId=function(){return D},N.GetName=function(){return N.name},N.Initialized=function(e){if(void 0===e)return N.initialized;N.initialized=e},N.getPauseQueueCount=function(){return Object&&Object.keys?Object.keys(M).length:0},N.removeAsset=function(e){void 0!==e&&e.target.param1.hasOwnProperty("assetid")&&(N.staticPage={})},N.handleUpdateOfStatic=function(t){if(t&&t.target){var a=t.target.evtInfo;if(e.GLCFG&&e.GLCFG.PLDCR&&void 0!==a&&a.param1.hasOwnProperty("assetid")&&N.getId()===t.target.plid){var n=e.GLCFG.PLDCR.latestDcrTick();0!==Object.keys(N.staticPage).length&&N.staticPage.hasOwnProperty("id")&&N.staticPage.id===a.param1.assetid&&N.staticPage.hasOwnProperty("lastTimeStamp")?N.staticPage.lastTimeStamp=n:N.staticPage={id:a.param1.assetid,evtParams:a,startTimeStamp:n,lastTimeStamp:n}}}},N.addListener=function(e,t){t&&(void 0===k[e]&&(k[e]=[]),k[e].push(t))},N.removeListener=function(e,t){if(N._listeners[e]instanceof Array)for(var a=k[e],n=0,r=a.length;n<r;n++)if(a[n]===t){a.splice(n,1);break}},N.handleSessionReset=function(e){if(e&&e.target&&e.target.hasOwnProperty("plid")&&D===e.target.plid&&e.target.hasOwnProperty("passedFdata")&&e.target.passedFdata.hasOwnProperty("_dataArrObj")&&e.target.passedFdata._dataArrObj){var t={plid:e.target.plid,fData:e.target.passedFdata._dataArrObj,content:{},ad:{},err:0};if(0===y(t).err&&e.target.passedFdata.hasOwnProperty("_currVidType")){var a=e.target.passedFdata._currVidType,n=Object.keys(t.content).length>0,r=Object.keys(t.ad).length>0;(n||r)&&(N.ggPM("57","1","sessionReset","",""),n&&!M.hasOwnProperty("content")&&(M.content={evt:"pauseloadmeta",meta:t.content,plid:e.target.plid}))}}N._listeners&&N._listeners.fireEvent&&N._listeners.fireEvent("debug",{type:"debug",msg:"Fired handleSessionReset from ggcmb."})},N.flushPauseEventQueue=function(){if(!(Object.keys(M).length<=0)){if(N.modules.PLDPR){var e;for(e in M)_("ggPM",{evtInfo:{eventType:M[e].evt,param1:M[e].meta},id:D});M={}}N._listeners&&N._listeners.fireEvent&&N._listeners.fireEvent("debug",{type:"debug",msg:"Fired flushPauseEventQueue from ggcmb."})}},N.cloneObj=function(e){return e&&"object"==typeof e?JSON.parse(JSON.stringify(e)):e},N.ggPM=function(e,t,a,n,r){if(N.initialized&&void 0!==e&&null!==e&&""!==e){var o={};o.eventType=e,o.param1=N.cloneObj(t),o.param2=N.cloneObj(a),o.param3=N.cloneObj(n),o.param4=N.cloneObj(r),!N.modules.allModInit||2!=N.modules.PLCMB&&2!=N.modules.PLDPR?I.push(o):(N.emptyQueue(),_("ggPM",{evtInfo:o,id:D}),G.trigger(N,o))}},N.getConfigParams=function(){return E},N.emptyQueue=function(){if(!(I.length<=0)&&N.modules.allModInit&&(N.modules.PLCMB||N.modules.PLDPR)){for(var e=0,t=I.length;e<t;e+=1)_("ggPM",{evtInfo:I[e],id:D}),G.trigger(N,I[e]);I=[]}},N.getContainer=function(){return x},N.getClientConfig=function(){return e.configs?e.configs[N.apid]:null},N.ggInitialize=function(t,n,r,o,i,v){if(N.initialized)return C.Promise(function(e,t){e(N)});G.init();var f,_,g,y="us",w="cdn-gl";if(x=v,E={ggParams:t,uid:r,oldFlashDetect:o,detectBrowser:i,nol_playerId:D},typeof t==typeof String()){for(f=e.loadXmlString("<vi>"+t+"</vi>"),_=f.firstChild.firstChild,g=0,t={};_&&void 0!==_&&g<20;)null!==_.firstChild&&(t[_.nodeName]=_.firstChild.nodeValue),_=_.nextSibling,g++;E.ggParams=t}E.ggParams.nol_sdkDebug=e.controllers.util.queryParam("nol_sdkDebug")||E.ggParams.nol_sdkDebug,N.Initialized(!0),p=(t.nsdkv?t.nsdkv.toString():"")||p,y=t.sfcode||y,m=s+(t.coreaddress?l+y:"//secure-"+y)+d,u=t.coreaddress?s+"//"+t.coreaddress+"/":a(t),L=t.sdkconfigver||L,N.apid=E.ggParams.apid,N.sdkv=p,N.sdkvForConfig=N.useCachedConfig&&N.sdkv&&3===N.sdkv.length?"bj."+N.sdkv[0]+"."+N.sdkv[1]+"."+N.sdkv[2]:L;var P=N.getClientConfig();return N.sessionId=e.GLCFG&&e.GLCFG.generateGUID?e.GLCFG.generateGUID():N.id,S({url:m+T+(P&&P.nol_GLOBALS&&P.nol_GLOBALS.nol_dfltAppid?P.nol_GLOBALS.nol_dfltAppid:E.ggParams.apid)+"&sessionId="+N.sessionId+"&C16=sdkv,"+N.sdkvForConfig,currRetry:-1,maxRetry:5,retryDelay:1e3}),N.useCachedConfig&&e.getLib("GLCFG")?(h(e.getLib("GLCFG")),e.GLCFG.loadChildren(N.sdkv),e.GLCFG&&e.GLCFG.browser.ready(function(){e.GLCFG.waitForLS(function(){e.GLCFG.PLDPR.initFromConfig(P,N.id,!0)})})):e.loadLib("GLCFG",u+"novms/js/2/configs/"+c,e,h),C.Promise(U)},N.isViewable=function(){return!1},e.browserSafeAddEventListener({element:t,eventType:"beforeunload",useCapture:!1,func:function(e){N&&N.staticPage&&f(N.staticPage)}}),N}if(!e.isBuilt||!e.isBuilt()){var s=-1!==t.location.protocol.indexOf("https")?"https:":"http:",l="//secure-",d=".imrworldwide.com/",c="glcfg510.js",p="600",u=a(),m=s+"//secure-us.imrworldwide.com/",v="imrworldwide.com",f=864e5,_=e.getInstances?e.getInstances():{},g=1,y=5,h=0,w=0,P=0,S=!1,O=!1,T="cgi-bin/gn?prd=session&c9=devid,&c13=asid,",L="bj.6.0.0",b="6.0.0.6";Date.now=Date.now||function(){return+new Date};var C={Promise:function(e){try{var t=new Promise(function(e,t){});return new Promise(e)}catch(e){}return new function(e){var t=function(e){n&&n(e)},a=function(e){r&&r(e)},n=null,r=null;return{then:function(o,i){n=o,r=i,e(t,a)}}}(e)}};if(e.sdkvForConfig=function(){return L},e.isBuilt=function(){return S},e.getInstance=function(a,n){var r=void 0!==a&&("string"==typeof a||"object"==typeof a&&a.constructor===String)?a:"default";return _.hasOwnProperty(r)||(_[r]=n?i(r,e[r]||t[r]):i(r)),_[r]},e.setTotalNumAssetsAllowed=function(e){g=isNaN(e)?e:parseInt(e,10)},e.getAddress=function(){return u},e.getConfigAddress=function(){return m},e.getInstances=function(){return _},e.loadXmlString=function(e){var t=null;try{return t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e),t}catch(n){try{var a=new DOMParser;return t=a.parseFromString(e,"text/xml")}catch(e){}}return null},e.isNielsenTag=function(e){var t=!1;if(void 0!==e){var a=e.indexOf("?"),n=e.indexOf("imrworldwide.com");n>-1&&n<a&&(t=!0)}return t},e.getVersion=function(){return p},e.send=function(e){e&&t.console&&t.console.log&&console.log(e.parentNode)},e.browserSafeAddEventListener=function(e){void 0!==e.element&&(e.element.addEventListener?e.element.addEventListener(e.eventType,e.func,e.useCapture):e.element.attachEvent&&e.element.attachEvent("on"+e.eventType,e.func))},e.browserSafeRemoveEventListener=function(e){void 0!==e&&null!==e&&null!==e.element&&void 0!==e.element&&(e.element.removeEventListener?e.element.removeEventListener(e.eventType,e.func,e.useCapture):e.element.detachEvent&&e.element.detachEvent("on"+e.eventType,e.func))},e.controllers={util:function(e){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}if("function"==typeof t.CustomEvent)return!1;e.prototype=t.Event.prototype,t.CustomEvent=e}(),{fireCustomEvent:{fireCustomEvent:function(a,n,r){try{r=r||t,a&&r&&r.dispatchEvent(new CustomEvent(a,{detail:n}))}catch(t){e&&e._listeners&&e._listeners.fireEvent("error",{type:"error",msg:"Browser error attempting to call element.dispatchEvent()."})}}}.fireCustomEvent,queryParam:{queryParam:function(a){try{a=a.toString().toLowerCase();var n=t.location.search.substr(1).split("&"),r="";if(n.find)r=n.find(function(e){return 0===e.toLowerCase().indexOf(a+"=")});else for(var o=0,i=n.length;o<i;o++)if(0===n[o].toLowerCase().indexOf(a+"=")){r=n[o];break}if(r){var s=r.split("=");if(s&&s.length>1)return s[1]}}catch(t){e&&e._listeners&&e._listeners.fireEvent("error",{type:"error",msg:"Browser error attempting to retrieve query string parameter."})}return""}}.queryParam}}(e)},function(){var t={};e.loadLib=function(a,n,r,o){if(void 0!==a&&null!==a&&"string"==typeof a&&void 0!==n&&null!==n&&"string"==typeof n)if(t[a]){if(t[a].body)return void o(t[a].body(r));t[a].callbacks.push({func:o,arg:r})}else t[a]={callbacks:[]},t[a].callbacks.push({func:o,arg:r});else void 0!==n&&null!==n||e.initLib(a,r)},e.registerLib=function(a,n){try{if(t){t.hasOwnProperty(a)||e.initLib(a,e,n);var r=t[a];r.body=n;for(var o=r.callbacks.shift();o;)o.func(r.body(o.arg)),o=r.callbacks.shift()}}catch(e){}},e.initLib=function(e,a,n){if(t[e]||(t[e]={handle:null,callbacks:[]}),t[e].body=n,t[e].body){var r=t[e].body(a);return a[e]=r,void(t[e].handle=r)}},e.getLib=function(e){return t[e]?t[e].handle:null}}(),t.gg_nol_FlashCallBack){for(var E=0,k,I=t.gg_nol_FlashCallBack.length;E<I;E+=1)t.gg_nol_FlashCallBack[E].hasOwnProperty("callBack")&&(k=document.getElementById(t.gg_nol_FlashCallBack[E].swfId))&&k[t.gg_nol_FlashCallBack[E].callBack]();t.gg_nol_FlashCallBack=void 0}S||(S=!0,h=w=Date.now(),e.BUILDVERSION="6.0.0.6")}}(window.NOLBUNDLE=window.NOLBUNDLE||{},window),window.NOLBUNDLE.registerLib("GLCFG",function(e){function t(e,t){if(e&&t){var a=t.path;window.NOLBUNDLE.loadLib(e,a,m,function(){t.status=1})}}function a(e){try{if(!e.modules.allModInit){var t=!0;for(f in b)if(b.hasOwnProperty(f)&&L[e.sdkv].hasOwnProperty(f)&&!m[f]){if("PLLOG"!==f&&2!==e.modules[f]){t=!1;break}}else;t&&(e.modules.allModInit=!0,m._listeners.fireEvent("flushQueue"))}}catch(e){}}function n(e){if(e){var t,n;for(t in m.availModules)m.availModules.hasOwnProperty(t)&&1==e.init&&(e.modules[t]||(e[t]=new m.availModules[t].init(e),e.modules[t]=1));var r=e.getConfigParams().nol_playerId;m._players[r]=e,m._listeners.addListener("tick",function(){a(m._players[r])})}}function r(){void 0!==window.document.referrer&&window.document.referrer.length>0&&m.postMsgAvail&&window.parent.postMessage("nolInit",0===window.location.protocol.indexOf("http")?window.document.referrer:"*"),y<h?window.clearInterval(g):h+=1}function o(){if(!(this instanceof o))return new o;m._listeners={},this.addListener=function(e,t,a){var n=a||!1;void 0===m._listeners[e]&&(m._listeners[e]=[]),m._listeners[e].push({cb:t,remove:n})},this.fireEvent=function(e,t){if(e){var a,n,r;if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(m._listeners[e.type]instanceof Array){for(a=m._listeners[e.type],n=0,r=a.length;n<r;n++)a[n]&&a[n].cb.call(this,e);for(n=0;n<a.length;n++)a[n]&&a[n].remove&&(a.splice(n,1),n--)}}},this.removeListener=function(e,t){var a,n,r;if(m._listeners[e]instanceof Array)for(a=m._listeners[e],n=0,r=a.length;n<r;n++)if(a[n]&&a[n].cb===t){a[n].remove=!0;break}}}function i(e){var a;for(a in b)b.hasOwnProperty(a)&&L[e||T].hasOwnProperty(a)&&!m[a]&&t(a,b[a])}function s(e){e&&m._listeners.fireEvent(e.eventTrigger,e)}function l(){for(var e=0;e<m.onLSReady.length;e++)m.onLSReady[e]();m.onLSReady=[]}function d(e,t,a){try{t=t||1,m.gIframe||(m.gIframe=window.document.createElement("iframe"),m.gIframe.src=O+"novms/html/ls.html",m.gIframe.height=0,m.gIframe.width=0,m.gIframe.style.display="none",m.gIframe.id="lsframe",m.gIframe.onload=function(){c(),m.getEmmUrl(),u(),m.gIframeReady=!0,m.thirdPartyData.cookiesEnabled=navigator.cookieEnabled,a&&a(),m.browser.localStorageSupported()||(m.thirdPartyData.localStorageEnabled=!1,l())}),window&&window.document&&window.document.body?window.document.body.appendChild(m.gIframe):t<=15&&setTimeout(function(){m._listeners.fireEvent("debug",{type:"debug",msg:"document.body not ready - delaying to add ls.html"}),d(e,t++,a)},t<=1?0:300)}catch(e){window.console&&window.console.error&&window.console.error("Unable to register ls.html - "+e.message)}}function c(e){if(void 0!==m.gIframe&&m.postMsgAvail)return void 0===e?void m.lsController.store.get(E):void m.lsController.store.set(E,e)}function p(e){if(void 0!==m.gIframe&&m.postMsgAvail)return void 0===e?void m.lsController.store.get(emmUrlKey):void m.lsController.store.set(emmUrlKey,e)}function u(){m.gIframe.contentWindow.postMessage(JSON.stringify({key:optoutCookieKey,eventType:"get",storageType:"cookie"}),m.gIframe.src)}var m=e.GLCFG&&e.GLCFG.getBaseBuildVer?e.GLCFG:{},v,f,_,g=0,y=30,h=0,w=!0,P=864e5,S=window.NOLBUNDLE,O=S.getAddress(),T=S.getVersion();m.localStorageId=m.localStorageId||"-1",m.EMMURL=m.EMMURL||"",m.optoutCookie=m.optoutCookie||"",m.gotLSID=m.gotLSID||!1,m.gotEMMURL=m.gotEMMURL||!1,m.gotOptoutCookie=m.gotOptoutCookie||!1;var L={600:{PLDPR:600,PLDCR:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.0",LSID:!0},"600_rc":{PLDPR:600,PLDCR:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.0.rc",LSID:!0},601:{PLDPR:600,PLDCR:600,PLCMB:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.1",LSID:!0}},b={PLDPR:{path:O+"novms/js/2/pldpr"+L[T].PLDPR+".js",status:0},PLDCR:{path:O+"novms/js/2/pldcr"+L[T].PLDCR+".js",status:0},PLCMB:{path:O+"novms/js/2/plcmb"+L[T].PLCMB+".js",status:0},PLLOG:{path:O+"novms/js/2/pllog"+L[T].PLLOG+".js",status:0}},C="6.0.0.5",E="nol_lsid";if(emmUrlKey="nol_emmURL",optoutCookieKey="OPT_OUT",m.gIframe=m.gIframe||m.getLS?m.getLS():null,m.gIframeReady=m.gIframeReady||!1,m.onLSReady=m.onLSReady||[],m.thirdPartyData=m.thirdPartyData||{cookiesEnabled:!0,localStorageEnabled:!0},m.postMsgAvail=m.postMsgAvail||"function"==typeof window.postMessage,m.availModules=m.availModules||{},m._players=m._players||{},m.id=m.id||"0",m.childGlobal=m.childGlobal||!!window&&window.top!==window.self,m.parentFound=m.parentFound||!1,m.CryptoJS=m.CryptoJS||function(e,t){var a={},n=a.lib={},r=function(){},o=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=n.WordArray=o.extend({init:function(e,a){e=this.words=e||[],this.sigBytes=a!=t?a:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,a=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;r<e;r++)t[n+r>>>2]|=(a[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<a.length)for(r=0;r<e;r+=4)t[n+r>>>2]=a[r>>>2];else t.push.apply(t,a);return this.sigBytes+=e,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var a=[],n=0;n<t;n+=4)a.push(4294967296*e.random()|0);return new i.init(a,t)}}),s=a.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],n=0;n<e;n++){var r=t[n>>>2]>>>24-n%4*8&255;a.push((r>>>4).toString(16)),a.push((15&r).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,a=[],n=0;n<t;n+=2)a[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new i.init(a,t/2)}},d=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],n=0;n<e;n++)a.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return a.join("")},parse:function(e){for(var t=e.length,a=[],n=0;n<t;n++)a[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new i.init(a,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a=this._data,n=a.words,r=a.sigBytes,o=this.blockSize,s=r/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),a.sigBytes-=r}return new i.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new u.HMAC.init(e,a).finalize(t)}}});var u=a.algo={};return a}(Math),m.checkUserAgent=function(e){var t=window?window.navigator.userAgent.toLowerCase():null;return void 0!==e&&e.length>0&&(t=-1!==t.search(e)),t},m.userAgent=function(e){var t=null,a="";try{t=e&&e.navigator?e.navigator.userAgent:null,a=t?t.toLowerCase():""}catch(e){}return{get:function(){return t},isFB:function(){return-1!==a.search(/(?=.*\[fb).*/)},isChrome:function(){return-1!==a.search(/(?=.*chrome).*/)||-1!==a.search(/(?=.*crios).*/)},isMac:function(){return-1!==a.search(/(?=.*macintosh).*/)},isIOS:function(){return-1!==a.search(/(?=.*iphone).*/)||-1!==a.search(/(?=.*ipad).*/)},iosVersion:function(){var e=new RegExp(/os\s([0-9_]*?)\s/gi),t=e.exec(a),n=t&&t.length>1?t[1].split("_"):[];return{version:t&&t.length>0?t[1].replace(/_/gi,"."):"",major:n&&n.length>0?parseInt(n[0]):0,minor:n&&n.length>1?parseInt(n[1]):0,patch:n&&n.length>2?parseInt(n[2]):0}},isAndroid:function(){return-1!==a.search(/(?=.*android).*/)},androidVersion:function(){var e=new RegExp(/android (.*?);/gi),t=e.exec(a),n=t&&t.length>1?t[1].split("."):[];return{version:t&&t.length>0?t[1]:"",major:n&&n.length>0?parseInt(n[0]):0,minor:n&&n.length>1?parseInt(n[1]):0,patch:n&&n.length>2?parseInt(n[2]):0}}}}(window),m.getBaseBuildVer=function(){if(L[T].hasOwnProperty("BASEVER"))return L[T].BASEVER+"."},m.getConfigVer=function(){if(L[T].hasOwnProperty("CONFIG"))return L[T].CONFIG},m.getIfLsidShouldSend=function(){if(L[T].hasOwnProperty("LSID"))return L[T].LSID},m.globalHasFocus=function(){if(L[T].hasOwnProperty("FORCEFOCUS"))return L[T].FORCEFOCUS;if(window.top!=window.self)return!1;var e=!1;try{e=window.top.document.hasFocus()}catch(t){e=!0}return e},m.bindPlayers=function(e,t){if(t){var a;m.availModules[t]=e;for(a in m._players)m._players.hasOwnProperty(a)&&1==m._players[a].init&&(m._players[a].modules[t]||(m._players[a][t]=new e.init(m._players[a]),m._players[a].modules[t]=2))}},m.enablePlayer=function(e,t){e&&t&&(m._players[e].modules[t]=2)},m.registerListener=function(e,t){t&&(t.addListener(e,function(t){m._listeners.fireEvent(e,t)}),t.init||(t.init=1,n(t)))},m._listeners=m._listeners||new o,m.lsReady=function(){return m.gIframeReady},m.lsController={store:{get:function(e){m.gIframe.contentWindow.postMessage(JSON.stringify({key:e,eventType:"get",storageType:"local"}),0===window.location.protocol.indexOf("http")?m.gIframe.src:"*")},set:function(e,t){m.gIframe.contentWindow.postMessage(JSON.stringify({key:e,eventType:"set",storageType:"local",data:t}),0===window.location.protocol.indexOf("http")?m.gIframe.src:"*")}},request:function(e){m.gIframe.contentWindow.postMessage(JSON.stringify({eventType:"reqUsingFrame",data:{url:e}}),0===window.location.protocol.indexOf("http")?m.gIframe.src:"*")}},m.getLS=function(){return m.gIframe},m.waitForLS=function(e){m.thirdPartyData.localStorageEnabled?e&&(m.gIframeReady&&"-1"!==m.localStorageId?e():m.onLSReady.push(e)):e&&e()},m.browser=function(){function e(e){void 0!==e.element&&(e.element.addEventListener?e.element.addEventListener(e.eventType,e.func,e.useCapture):e.element.attachEvent&&e.element.attachEvent("on"+e.eventType,e.func))}function t(e){void 0!=e&&null!=e&&null!=e.element&&void 0!=e.element&&(e.element.removeEventListener?e.element.removeEventListener(e.eventType,e.func,e.useCapture):e.element.detachEvent&&e.element.detachEvent("on"+e.eventType,e.func))}function a(a){function n(){t({element:document,eventType:"DOMContentLoaded",func:o}),t({element:window,eventType:"load",func:o})}function o(){n(),r.ready=!0,a&&a()}if(r.ready)return void(a&&a());"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(o):(e({element:document,eventType:"DOMContentLoaded",func:o}),e({element:window,eventType:"load",func:o}))}function n(){try{var e=window.localStorage;if(null!==e&&void 0!==e)return!0}catch(e){return!1}return!1}var r={ready:!1};return{addEventListener:e,removeEventListener:t,ready:a,localStorageSupported:n}}(),m.updateReceiver=function(e){s(e)},m.generateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},m.getLsId=function(){return"string"!=typeof m.localStorageId?m.localStorageId.toString():m.localStorageId},m.getEmmUrl=function(){return p()},m.getOptoutCookie=function(){return m.optoutCookie},m.setLsId=function(e,t){if(null!==e&&void 0!==e&&e!==m.getLsId()&&(m.localStorageId=e,c(m.localStorageId)),t&&m.postMsgAvail)if(m.userAgent.isAndroid()){var a="intent://nuid/"+e+"/#Intent;action=android.intent.action.VIEW;scheme=nielsenwebid;component=com.nielsen.odm/.NielsenMobileMeter;end";m.lsController.request(a),m._listeners.fireEvent("info",{type:"info",msg:"Firing EMM intent "+a}),a="nielsenwebid://nuid/"+e,m.lsController.request(a),m._listeners.fireEvent("info",{type:"info",msg:"Firing EMM deep link "+a}),m.userAgent.androidVersion().major>5&&(a=0===t.indexOf("https")?t:"https://"+e+".imrworldwide.com",m.lsController.request(a),m._listeners.fireEvent("info",{type:"info",msg:"Firing EMM link "+a}))}else m.userAgent.isIOS()&&(m.lsController.request(t),m._listeners.fireEvent("info",{type:"info",msg:"Firing EMM link "+t}))},m.setEmmUrl=function(e){e&&(m.EMMURL=e,p(m.EMMURL))},m.isValidJson=function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return"Object"==typeof t},m.loadChildren=i,!m.built){try{d(),S.browserSafeAddEventListener({element:window,eventType:"message",func:function(e){var t,a,n;if(e.data&&"nolInit"==e.data&&window.self===window.top)for(t=window.document.getElementsByTagName("iframe"),a=t.length-1;a>=0;a--)t[a].contentWindow==e.source&&m.postMsgAvail&&e.source.postMessage({key:"nolChildReg",parentID:m.id},0===window.location.protocol.indexOf("http")?e.origin:"*");else e.data&&e.data.key&&"nolChildReg"==e.data.key&&(m.parentFound=!0,window.clearInterval(g));if(e.origin&&e.origin.indexOf("imrworldwide.com")>-1&&e.data){var r=""!==e.data.val&&m.isValidJson(e.data.val)?JSON.parse(e.data.val):e.data.val,o=""!==e.data.key&&m.isValidJson(e.data.key)?JSON.parse(e.data.key):e.data.key;if(e.data&&"lsget"===e.data.type)switch(o){case E:var i="OPTOUT"===String(r).toUpperCase();m.setLsId(r),m.gotLSID=!0,m._listeners.fireEvent("sendOptOutStatus",i);break;case emmUrlKey:m.EMMURL=r,m.gotEMMURL=!0}else if(e.data&&"cookieget"===e.data.type)switch(o){case optoutCookieKey:m.optoutCookie=r,m.gotOptoutCookie=!0}else if(e.data&&"lsdisabled"===e.data.type&&1==e.data.val)switch(m.thirdPartyData.localStorageEnabled=!1,e.data.key){case E:m.gotLSID=!0;break;case emmUrlKey:m.gotEMMURL=!0}else e.data&&"cookiedisabled"===e.data.type&&1==e.data.val&&(m.thirdPartyData.cookiesEnabled=!1,e.data.key===optoutCookieKey&&(m.gotOptoutCookie=!0));m.gotLSID&&m.gotEMMURL&&m.gotOptoutCookie&&l()}},useCapture:!1}),void 0===v&&(v=window.setInterval(function(e){m._listeners.fireEvent("tick",e)},1e3)),m.childGlobal&&(g=window.setInterval(function(){r()},500))}catch(e){}!function(){var e=m.CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,n=this._map;e.clamp(),e=[];for(var r=0;r<a;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,i=0;4>i&&r+.75*i<a;i++)e.push(n.charAt(o>>>6*(3-i)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var a=e.length,n=this._map,r=n.charAt(64);r&&-1!=(r=e.indexOf(r))&&(a=r);for(var r=[],o=0,i=0;i<a;i++)if(i%4){var s=n.indexOf(e.charAt(i-1))<<i%4*2,l=n.indexOf(e.charAt(i))>>>6-i%4*2;r[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,a,n,r,o,i){return((e=e+(t&a|~t&n)+r+i)<<o|e>>>32-o)+t}function a(e,t,a,n,r,o,i){return((e=e+(t&n|a&~n)+r+i)<<o|e>>>32-o)+t}function n(e,t,a,n,r,o,i){return((e=e+(t^a^n)+r+i)<<o|e>>>32-o)+t}function r(e,t,a,n,r,o,i){return((e=e+(a^(t|~n))+r+i)<<o|e>>>32-o)+t}for(var o=m.CryptoJS,i=o.lib,s=i.WordArray,l=i.Hasher,i=o.algo,d=[],c=0;64>c;c++)d[c]=4294967296*e.abs(e.sin(c+1))|0;i=i.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var i=0;16>i;i++){var s=o+i,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var i=this._hash.words,s=e[o+0],l=e[o+1],c=e[o+2],p=e[o+3],u=e[o+4],m=e[o+5],v=e[o+6],f=e[o+7],_=e[o+8],g=e[o+9],y=e[o+10],h=e[o+11],w=e[o+12],P=e[o+13],S=e[o+14],O=e[o+15],T=i[0],L=i[1],b=i[2],C=i[3],T=t(T,L,b,C,s,7,d[0]),C=t(C,T,L,b,l,12,d[1]),b=t(b,C,T,L,c,17,d[2]),L=t(L,b,C,T,p,22,d[3]),T=t(T,L,b,C,u,7,d[4]),C=t(C,T,L,b,m,12,d[5]),b=t(b,C,T,L,v,17,d[6]),L=t(L,b,C,T,f,22,d[7]),T=t(T,L,b,C,_,7,d[8]),C=t(C,T,L,b,g,12,d[9]),b=t(b,C,T,L,y,17,d[10]),L=t(L,b,C,T,h,22,d[11]),T=t(T,L,b,C,w,7,d[12]),C=t(C,T,L,b,P,12,d[13]),b=t(b,C,T,L,S,17,d[14]),L=t(L,b,C,T,O,22,d[15]),T=a(T,L,b,C,l,5,d[16]),C=a(C,T,L,b,v,9,d[17]),b=a(b,C,T,L,h,14,d[18]),L=a(L,b,C,T,s,20,d[19]),T=a(T,L,b,C,m,5,d[20]),C=a(C,T,L,b,y,9,d[21]),b=a(b,C,T,L,O,14,d[22]),L=a(L,b,C,T,u,20,d[23]),T=a(T,L,b,C,g,5,d[24]),C=a(C,T,L,b,S,9,d[25]),b=a(b,C,T,L,p,14,d[26]),L=a(L,b,C,T,_,20,d[27]),T=a(T,L,b,C,P,5,d[28]),C=a(C,T,L,b,c,9,d[29]),b=a(b,C,T,L,f,14,d[30]),L=a(L,b,C,T,w,20,d[31]),T=n(T,L,b,C,m,4,d[32]),C=n(C,T,L,b,_,11,d[33]),b=n(b,C,T,L,h,16,d[34]),L=n(L,b,C,T,S,23,d[35]),T=n(T,L,b,C,l,4,d[36]),C=n(C,T,L,b,u,11,d[37]),b=n(b,C,T,L,f,16,d[38]),L=n(L,b,C,T,y,23,d[39]),T=n(T,L,b,C,P,4,d[40]),C=n(C,T,L,b,s,11,d[41]),b=n(b,C,T,L,p,16,d[42]),L=n(L,b,C,T,v,23,d[43]),T=n(T,L,b,C,g,4,d[44]),C=n(C,T,L,b,w,11,d[45]),b=n(b,C,T,L,O,16,d[46]),L=n(L,b,C,T,c,23,d[47]),T=r(T,L,b,C,s,6,d[48]),C=r(C,T,L,b,f,10,d[49]),b=r(b,C,T,L,S,15,d[50]),L=r(L,b,C,T,m,21,d[51]),T=r(T,L,b,C,w,6,d[52]),C=r(C,T,L,b,p,10,d[53]),b=r(b,C,T,L,y,15,d[54]),L=r(L,b,C,T,l,21,d[55]),T=r(T,L,b,C,_,6,d[56]),C=r(C,T,L,b,O,10,d[57]),b=r(b,C,T,L,v,15,d[58]),L=r(L,b,C,T,P,21,d[59]),T=r(T,L,b,C,u,6,d[60]),C=r(C,T,L,b,h,10,d[61]),b=r(b,C,T,L,c,15,d[62]),L=r(L,b,C,T,g,21,d[63]);i[0]=i[0]+T|0,i[1]=i[1]+L|0,i[2]=i[2]+b|0,i[3]=i[3]+C|0},_doFinalize:function(){var t=this._data,a=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;a[r>>>5]|=128<<24-r%32;var o=e.floor(n/4294967296);for(a[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(a.length+1),this._process(),t=this._hash,a=t.words,n=0;4>n;n++)r=a[n],a[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=l._createHelper(i),o.HmacMD5=l._createHmacHelper(i)}(Math),function(){var e=m.CryptoJS,t=e.lib,a=t.Base,n=t.WordArray,t=e.algo,r=t.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,r=a.hasher.create(),o=n.create(),i=o.words,s=a.keySize,a=a.iterations;i.length<s;){l&&r.update(l);var l=r.update(e).finalize(t);r.reset();for(var d=1;d<a;d++)l=r.finalize(l),r.reset();o.concat(l)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,a){return r.create(a).compute(e,t)}}(),m.CryptoJS.lib.Cipher||function(e){
var t=m.CryptoJS,a=t.lib,n=a.Base,r=a.WordArray,o=a.BufferedBlockAlgorithm,i=t.enc.Base64,s=t.algo.EvpKDF,l=a.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,a,n){return("string"==typeof a?f:v).encrypt(e,t,a,n)},decrypt:function(t,a,n){return("string"==typeof a?f:v).decrypt(e,t,a,n)}}}});a.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=t.mode={},c=function(t,a,n){var r=this._iv;r?this._iv=e:r=this._prevBlock;for(var o=0;o<n;o++)t[a+o]^=r[o]},p=(a.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize;c.call(this,e,t,n),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),p.Decryptor=p.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize,r=e.slice(t,t+n);a.decryptBlock(e,t),c.call(this,e,t,n),this._prevBlock=r}}),d=d.CBC=p,p=(t.pad={}).Pkcs7={pad:function(e,t){for(var a=4*t,a=a-e.sigBytes%a,n=a<<24|a<<16|a<<8|a,o=[],i=0;i<a;i+=4)o.push(n);a=r.create(o,a),e.concat(a)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},a.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:p}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var a=e.createEncryptor;else a=e.createDecryptor,this._minBufferSize=1;this._mode=a.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var u=a.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){e=i.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var a=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return u.create({ciphertext:e,salt:a})}},v=a.SerializableCipher=n.extend({cfg:n.extend({format:d}),encrypt:function(e,t,a,n){n=this.cfg.extend(n);var r=e.createEncryptor(a,n);return t=r.finalize(t),r=r.cfg,u.create({ciphertext:t,key:a,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,a,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(a,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,a,n){return n||(n=r.random(8)),e=s.create({keySize:t+a}).compute(e,n),a=r.create(e.words.slice(t),4*a),e.sigBytes=4*t,u.create({key:e,iv:a,salt:n})}},f=a.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:t}),encrypt:function(e,t,a,n){return n=this.cfg.extend(n),a=n.kdf.execute(a,e.keySize,e.ivSize),n.iv=a.iv,e=v.encrypt.call(this,e,t,a.key,n),e.mixIn(a),e},decrypt:function(e,t,a,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),a=n.kdf.execute(a,e.keySize,e.ivSize,t.salt),n.iv=a.iv,v.decrypt.call(this,e,t,a.key,n)}})}(),function(){for(var e=m.CryptoJS,t=e.lib.BlockCipher,a=e.algo,n=[],r=[],o=[],i=[],s=[],l=[],d=[],c=[],p=[],u=[],v=[],f=0;256>f;f++)v[f]=128>f?f<<1:f<<1^283;for(var _=0,g=0,f=0;256>f;f++){var y=g^g<<1^g<<2^g<<3^g<<4,y=y>>>8^255&y^99;n[_]=y,r[y]=_;var h=v[_],w=v[h],P=v[w],S=257*v[y]^16843008*y;o[_]=S<<24|S>>>8,i[_]=S<<16|S>>>16,s[_]=S<<8|S>>>24,l[_]=S,S=16843009*P^65537*w^257*h^16843008*_,d[y]=S<<24|S>>>8,c[y]=S<<16|S>>>16,p[y]=S<<8|S>>>24,u[y]=S,_?(_=h^v[v[v[P^h]]],g^=v[v[g]]):_=g=1}var O=[0,1,2,4,8,16,32,64,128,27,54],a=a.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,a=e.sigBytes/4,e=4*((this._nRounds=a+6)+1),r=this._keySchedule=[],o=0;o<e;o++)if(o<a)r[o]=t[o];else{var i=r[o-1];o%a?6<a&&4==o%a&&(i=n[i>>>24]<<24|n[i>>>16&255]<<16|n[i>>>8&255]<<8|n[255&i]):(i=i<<8|i>>>24,i=n[i>>>24]<<24|n[i>>>16&255]<<16|n[i>>>8&255]<<8|n[255&i],i^=O[o/a|0]<<24),r[o]=r[o-a]^i}for(t=this._invKeySchedule=[],a=0;a<e;a++)o=e-a,i=a%4?r[o]:r[o-4],t[a]=4>a||4>=o?i:d[n[i>>>24]]^c[n[i>>>16&255]]^p[n[i>>>8&255]]^u[n[255&i]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,i,s,l,n)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,d,c,p,u,r),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,n,r,o,i,s){for(var l=this._nRounds,d=e[t]^a[0],c=e[t+1]^a[1],p=e[t+2]^a[2],u=e[t+3]^a[3],m=4,v=1;v<l;v++)var f=n[d>>>24]^r[c>>>16&255]^o[p>>>8&255]^i[255&u]^a[m++],_=n[c>>>24]^r[p>>>16&255]^o[u>>>8&255]^i[255&d]^a[m++],g=n[p>>>24]^r[u>>>16&255]^o[d>>>8&255]^i[255&c]^a[m++],u=n[u>>>24]^r[d>>>16&255]^o[c>>>8&255]^i[255&p]^a[m++],d=f,c=_,p=g;f=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^a[m++],_=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^a[m++],g=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^a[m++],u=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^a[m++],e[t]=f,e[t+1]=_,e[t+2]=g,e[t+3]=u},keySize:8});e.AES=t._createHelper(a)}(),m.built=!0}if(window.gg_nol_CallBack)for(f=0,_=window.gg_nol_CallBack.length;f<_;f+=1)window.gg_nol_CallBack[f]&&window.gg_nol_CallBack[f].callBack&&window.gg_nol_CallBack[f].callBack(m);return m}),window.NOLBUNDLE.registerLib("PLDPR",function(e){"use strict";function t(e,t){var a=[],n=e.split("&"),r,o;for(r=0,o=n.length;r<o;r+=1)0!==n[r].indexOf(t)&&a.push(n[r]);return a.join("&")}function a(e,t){var a=e.split("||"),n=a[0]||e;if(window)for(var r=0,o=a.length;r<o;r+=1)n=a[r],void 0!==window["on"+n]&&(window.addEventListener?window.addEventListener(n,t,!1):window.attachEvent&&window.attachEvent("on"+n,t))}function n(e,t){var a;if("num"==t)a=parseInt(e,10),e=isNaN(a)?0:a;else if("bin"==t)e=isNaN(Number(e))?"0":Number(e).toString(2);else if("bool"==t)switch(e.toString().toLowerCase()){case"false":case"no":case"0":case"":e=!1;break;default:e=!0}else"b2n"==t&&(a=parseInt(e,2),e=isNaN(a)?0:a);return e}function r(e){var t,a=[];for(t=0;t<n(e,"num");t+=1)a.push({tsv:0,save:!1,updated:!1});return a}function o(e){return{tags:[],eventQueue:e&&e.eventQueue?e.eventQueue:[],tagSize:1,bReInit:!1,debug:we,eventQueueIndex:0}}function i(e){var a;void 0!==e&&0!==e.length&&(a=window.document.createElement("script"),a.type="text/javascript",a.src=t(e,"rnd=")+"&rnd="+Math.round(1e6*Math.random()),a.onerror=function(e){var t=e.target.src;window.document.head?window.document.head.removeChild(e.target):window.document.getElementsByTagName("head")[0].removeChild(e.target),ue<me&&(ue+=1,window.setTimeout(function(){i(t)},5e3))},a.onload=function(e){ue=0,window.document.head?window.document.head.removeChild(e.target):window.document.getElementsByTagName("head")[0].removeChild(e.target)},window.document.head?window.document.head.appendChild(a):window.document.getElementsByTagName("head")[0].appendChild(a))}function s(){var t=Array.prototype.slice.call(arguments);e._listeners.fireEvent("info",{type:"info",msg:t.join(" ")})}function l(e){return encodeURIComponent(e).replace("'","%27")}function d(e){var t=0===te.indexOf("https")?"https":"http",a,n,r,o=e.url,s=e.hasOwnProperty("maskRef")?e.maskRef:-1;if("__sendIt"!==o&&"https"===t&&-1===o.indexOf("https")&&(o=t+o.substr(o.indexOf("://"))),e.prod&&"ocr"===e.prod&&-1!==o.indexOf("&ty=js"))return void i(o);if(_e||"__sendIt"===o)if(o&&_e&&ye)he.push(o);else if("__sendIt"!==o||ye)o&&_e&&!ye&&fe.push(o);else{for(ye=!0,a=0,n=fe.length;a<n;a+=1)ke.setup({pingSendTime:h(e.serverTimeOffset),url:fe.shift(),maskRefUrl:s});fe=fe.concat(he),ye=!1,he=[]}else ke.setup({pingSendTime:h(e.serverTimeOffset),url:o,maskRefUrl:s})}function c(e,t){var a="",n,r,o,i;if(!e||!t)return e;for(i=t.length,r=0,o=e.length;r<o;r+=1)n=e.charCodeAt(r)^t.charCodeAt(r%i),a+=0===n?e.charAt(r):String.fromCharCode(n);return a}function p(t,a,n,r){var o,i;-1===n.indexOf("[")&&-1===n.indexOf("]")&&(!r.val||r.val.length<=0)?(v(t,{type:"100",msg:n+" missing -- "+D({data:t,param:"nol_comment"})}),r.state=!1,r.val=""):"{"===a||"}"===a?r.val=e.CryptoJS.MD5(r.val.toString()).toString():"<"===a||">"===a?(o=n.match(se["<"].end),o?(i=o[0].match(/[\d]+/g),r.val=String(r.val).substr(i[0],i[1])):r.val=c(String(r.val),D({data:t,param:"nol_xorSeed"}))):"("!==a&&")"!==a||(r.val=l(r.val))}function u(e,t){var a=t.match(/[\[\{<\(]/g),n,r,o,i,s,l,d,c,u,m,f,_,g=D({data:e,param:"nol_xorSeed"})||"",y,h;if(a=a?a.reverse():[],r=t.match(/[\}\]\>\)]/g)||[],i={start:a.length?t.lastIndexOf(String(a[0])):-1,end:r.length?t.indexOf(String(r[0])):t.length},r&&">"===r[0]&&(i.end=t.search(se["<"].end)||t.indexOf(">")),l=t.substring(i.start+1,i.end),u=l.split("||"),u.length>0)for(m=0,f=u.length;m<f&&(l=u[m],!((_=D({data:e,param:l}))&&_.length>0));m+=1);else _=D({data:e,param:l});if(_&&_.length>0&&(h="string"==typeof l?l.split("_"):l,y=h[0]?h.splice(0,2).join("_"):h,(s=Oe[y]?Oe[y].encoding:"")&&(a=a.reverse().concat(s.match(/[\[\{<\(]/g)).reverse(),r=r.reverse().concat(s.match(/[\}\]>\)]/g)).reverse())),n={val:_,state:D({data:e,param:"nolPriv_sendData"})},d=a?a.length:0,c=r?r.length:0,(o=Math.min(d,c))>0)for(m=0,f=o;m<f;m+=1)p(e,a[0]||r[0],t,n,g),a.shift(),r.shift();else(!n.val||n.val&&n.val.length<=0)&&(n.state=!1,n.val="",v(e,{type:100,msg:l+" missing "+D({data:e,param:"nol_comment"})}));return{val:n.val,strManipulate:a,strManiEnd:r}}function m(e,t,a){var n,r,o={val:"",state:D({data:e,param:"nolPriv_sendData"})},i=D({data:e,param:"nol_md5Seed"}),s,l,d,c=[],m,v=[],f=[],_,g="",y,h,w,P,S,O,T=D({data:e,param:"nol_xorSeed"});if(t=t||D({data:e,param:"nol_url"})||"",null!==(r=t.match(le.regex)))for(h=0,w=r.length;h<w;h+=1){if(n=r[h],s=n.substr(le.length,n.length-2*le.length),l=s.split("+"),c=[],g="",d=0,l&&l.length>1){for(P=0,S=l.length;P<S;P+=1)if(g=l[P],m=u(e,g),m.strManipulate.length>0&&(d=c.length,v=[].concat(m.strManipulate,v)),c[d]=c[d]?c[d]+m.val:m.val,m.strManiEnd.length>0&&m.strManiEnd.length!==v.length){for(f=[].concat(f,m.strManiEnd),o={val:c[d],state:D({data:e,param:"nolPriv_sendData"})},_=0,O=m.strManiEnd.length;_<O;_+=1)p(e,v[0],g,o,T),v.shift(),f.shift();c[d]=o.val}for(o.val=c.join(""),y=v.length>=f.length?v:f,_=0,O=y.length;_<O;_+=1)p(e,y[0],g,o,T),v.shift(),f.shift()}else m=u(e,s),o={val:m.val,state:D({data:e,param:"nolPriv_sendData"})};t=t.replace(n,o.val)}return t}function v(t,a,n,r){var o,i,s=D({data:t,param:"nolPriv_errorSent"});return!0!==r&&D({data:t,param:"nolPriv_sendData",val:!1}),!(!n&&-1!==(!a||s.indexOf(a.type.toString())))&&(!!xe.isInitialized(t)&&(o=a.type+","+l(a.msg),D({data:t,param:"nol_errorMessage",val:o}),e._listeners.fireEvent("error",{type:"error",msg:o}),i=m(t,D({data:t,param:"nol_errorURL"})),d({serverTimeOffset:D({data:t,param:"nolPriv_serverTimeOffset"}),url:i,maskRef:D({data:t,param:"nol_rfrmsk"})}),s+=a.type.toString()+",",D({data:t,param:"nolPriv_errorSent",val:s}),!0))}function f(e){var t=!1}function _(e,t,a){a&&!a.serviceSending[t]&&(a.serviceSending[t]=!0,i(e))}function g(e,t){var a=e||6;return Math.ceil(t/a)*a||"0"}function y(e,t){var a=!1,r=0,o=!1,i=n(D({data:e,param:"nol_unQualSegmentValue"}),"num"),s=D({data:e,param:"nol_minutes"}),l=[],d=!!t&&t.save,c,p,u,m=n(D({data:e,param:"nol_segmentTimeSpent"}),"num"),v=n(D({data:e,param:"nol_sendQual"}),"num"),f=D({data:e,param:"nol_cadence"});for(c=0,p=s.length;c<p;c+=1)u=Math.floor(s[c].tsv/D({data:e,param:"nol_creditValue"})),u>=1?(s[c].save&&"daypart"!==D({data:e,param:"nol_cadence"})?l.push(0):(l.push(D({data:e,param:"nol_creditFlag"})),r+=1,a=!0),o=!0):(l.push(0),o=!1),d?s[c].save=o:(s[c].tsv=0,s[c].save=!1,s[c].updated=!1);return D({data:e,param:"nol_duration",val:l.join("")}),v&&(a=r>=v),!0===n(D({data:e,param:"nol_minWonOverride"}),"bool")&&(a=!0),a||"interval"!==f&&"streamduration"!==f||d||("S"===D({data:e,param:"nol_segmentPrefix"})&&i&&D({data:e,param:"nol_duration",val:g(i,m)}),a=m>1),a}function h(e){return void 0!==e?(Ie()/1e3>>0)+e:Ie()/1e3>>0}function w(e){Number(e)===e&&e%1!=0&&window.console&&window.console.warn&&window.console.warn("Warning: nol_segmentTimeSpent is a float - should be an integer.")}function P(e,t){var a=D({data:e,param:"nol_url"})||"",o,i,l,c,p=0,u,v=D({data:e,param:"nol_playerId"}),_=n(D({data:e,param:"nol_maxPingCount"}),"num"),g=n(D({data:e,param:"nol_pingCount"}),"num"),P=!!t&&t.returnLength,S=D({data:e,param:"nol_cadence"}),O=D({data:e,param:"nol_eventFilter"}),T=n(D({data:e,param:"nol_maxLength"}),"num");if(D({data:e,param:"nol_pingCreationTime",val:h(D({data:e,param:"nolPriv_serverTimeOffset"}))}),i=D({data:e,param:"nol_timeSpentViewing"}).content,l=D({data:e,param:"nol_timeSpentViewing"}).ad,c=D({data:e,param:"nol_timeSpentViewing"}).static,w(D({data:e,param:"nol_segmentTimeSpent"})),(!e.isProductOf(["dcrvideo","vrivideo"])||"1"===D({data:e,param:"nol_forceFireOnClose_content"})||!(e.isProductOf(["dcrvideo","vrivideo"])&&0===i.nol_segmentTimeSpent||"dcrstatic"===D({data:e,param:"nol_product"})&&0===c.nol_segmentTimeSpent)||"interval"!==S&&"streamduration"!==S||0!==l.nol_count||0!==l.nol_segmentTimeSpent)&&"false"===D({data:e,param:"nol_disabled"})&&(0===_||_>g)){if(De.setNextTick(e,null,"content"),o=y(e,t)||"stream"===S||"impression"===S||"id3"===D({data:e,param:"nol_product"}),D({data:e,param:"nol_random",val:Math.round(1e9*Math.random())}),a=m(e,a),p=a.length,D({data:e,param:"nolPriv_sendData"})&&o&&!P||T>0&&T<p){if(D({data:e,param:"nol_id3Data"})&&D({data:e,param:"nol_id3Data",val:!1}),s(D({data:e,param:"nol_comment"})," -queued @"+Math.floor(Ie()/1e3)+", timeOffset == "+D({data:e,param:"nolPriv_serverTimeOffset"})+", DU == "+D({data:e,param:"nol_segmentTimeSpent"})+" -- ",a),O.onSendPing&&(I(e,O.onSendPing),"true"===D({data:e,param:"nol_disabled"})))return;d({serverTimeOffset:D({data:e,param:"nolPriv_serverTimeOffset"}),url:a,prod:D({data:e,param:"nol_product"}),maskRef:D({data:e,param:"nol_rfrmsk"})}),D({data:e,param:"nol_viewCount_"+e._currVidType.toLowerCase(),val:"0"}),De.clear(e),ce&&ce.hasOwnProperty(v)&&ce[v].hasOwnProperty("debug")&&"logging"===ce[v].debug&&(u=D({data:e,param:"nol_debugUrl"}),u||(u=D({data:e,param:"nol_prefProtocol"})+"://nielsen.guru/validation/query_string.php?"),u+="pli="+v+"&sendPing="+D({data:e,param:"nol_product"})+"&"+a.substring(a.indexOf("?")+1),f(u)),g+=1,i.nol_segmentTimeSpent=0,i.nol_count=0,l.nol_segmentTimeSpent=0,l.nol_count=0,c.nol_segmentTimeSpent=0,c.nol_count=0,D({data:e,param:"nol_pingStartTimeUTC",val:Math.round(Ie()/1e3)}),D({data:e,param:"nolPriv_priority",val:0}),D({data:e,param:"nol_pingCount",val:g.toString()}),D({data:e,param:"nol_forceFireOnClose_content",val:"0"});var L=r(D({data:e,param:"nol_segmentLength"}));D({data:e,param:"nol_duration",val:new Array(L.length+1).join("0")})}else if(P)return{len:p,fData:a};return null}}function S(t){try{if(void 0===t)return;var a=r(D({data:t,param:"nol_segmentLength"}));D({data:t,param:"nol_minutes",val:a}),D({data:t,param:"nol_duration",val:new Array(a.length+1).join("0")})}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in resetMinutes(). Error - "+t.message})}}function O(e,t){var a=n(D({data:e,param:"nol_segmentLength"}),"num")*n(D({data:e,param:"nol_segmentValue"}),"num");return{segment:Math.floor(t/a+1),minute:Math.floor(t%a/D({data:e,param:"nol_segmentValue"})),seconds:t%D({data:e,param:"nol_segmentValue"})}}function T(t,a){var o,i=D({data:a,param:"nol_tagSrc"}),t=""!==t?t:"id3"===i&&D({data:a,param:"nol_fdcid"})!==D({data:a,param:"nol_cidNull"})?D({data:a,param:"nol_fdoffset"}):"id3"===i&&D({data:a,param:"nol_pccid"})!==D({data:a,param:"nol_cidNull"})?D({data:a,param:"nol_pcoffset"}):t,s=D({data:a,param:"nol_eventFilter"}),l=D({data:a,param:"nol_minutes"}),d=n(D({data:a,param:"nol_pingCount"}),"num"),c,p,u,m,v,f,_,g,y=D({data:a,param:"nol_playerId"}),h=e._players&&e._players.hasOwnProperty(y)?e._players[y]:-1,w=D({data:a,param:"nol_localDay"}),S=D({data:a,param:"nol_dayQhr"}),T=D({data:a,param:"nol_weekQhr"}),L,b,C,E=D({data:a,param:"nol_wmDay"}),k=D({data:a,param:"nol_wmDayQhr"}),M,x,A=n(D({data:a,param:"nol_weekEndUTC"}),"num"),B=n(D({data:a,param:"nol_weekStartUTC"}),"num"),R=A-B,N,F=n(D({data:a,param:"nolPriv_serverTimeOffset"}),"num"),V,G=D({data:a,param:"nol_timer"})||"nol_fdoffset",U=n(D({data:a,param:"nolPriv_currMin"}),"num"),j=n(D({data:a,param:"nol_maxPingCount"}),"num"),Q=n(D({data:a,param:"nol_creditValue"}),"num"),q=n(t,"num"),W=n(D({data:a,param:"nol_intrvlThrshld"}),"num")||86400,J="nol_cmsoffset"===G||"nol_pageoffset"===G?n(D({data:a,param:"nol_cmsIntrvlGp"}),"num")||2:n(D({data:a,param:"nol_id3IntrvlGp"}),"num"),H=n(D({data:a,param:"nol_segmentLength"}),"num")*n(D({data:a,param:"nol_segmentValue"}),"num"),K=n(D({data:a,param:"nol_currSeg"}),"num"),X=n(D({data:a,param:"nolPriv_now"}),"num"),Y,$=D({data:a,param:"nol_timeSpentViewing"})[a._currVidType],Z=n(D({data:a,param:"nolPriv_currPos"}),"num");if(a.set("nolPriv_prevPos",a.get("nol_currPos")),1===t?a.set("nol_currPos","0"):a.set("nol_currPos",t),"modcadence"===a.get("nol_cadence"))t%a.get("nol_segmentValue")==0&&(t<a.get("nol_length")||!a.get("nol_length"))&&P(a);else{if(M=Math.floor(q/86400)+1,E||D({data:a,param:"nol_wmDay",val:M}),x=Math.floor(q%86400/900)+1,k||D({data:a,param:"nol_wmDayQhr",val:x}),q>86400&&"nol_cmsoffset"===G?(q+=F,g=q+n(D({data:a,param:"nol_startDayTimeOffset"}),"num"),f=g+n(D({data:a,param:"nol_GMTOffset"}),"num")):g=f=q,L=Math.floor(f/86400)+1,w&&w!=L&&P(a),w||D({data:a,param:"nol_localDay",val:L}),q>A&&(s.onWeekEndUTC?I(a,s.onWeekEndUTC):(D({data:a,param:"nol_week",val:D({data:a,param:"nol_nextWeek"})}),D({data:a,param:"nol_period",val:D({data:a,param:"nol_nextPeriod"})}),D({data:a,param:"nol_weekStartUTC",val:A+1}),D({data:a,param:"nol_weekEndUTC",val:A+1+R}))),b=Math.floor((q-n(D({data:a,param:"nol_weekStartUTC"}),"num"))/900)+1,T&&b===T||D({data:a,param:"nol_weekQhr",val:b}),"nol_cmsoffset"===G&&(q=f%86400),C=Math.floor(q/900)+1,S||D({data:a,param:"nol_dayQhr",val:C}),q=Math.floor(q),"1"===D({data:a,param:"nol_applyViewInc"})&&(z(a),D({data:a,param:"nol_applyViewInc",val:"0"})),"true"===D({data:a,param:"nol_disabled"})||void 0===q||j>0&&j<=d&&"daypart"!==D({data:a,param:"nol_cadence"}))return;if("stream"!==D({data:a,param:"nol_cadence"})&&"impression"!==D({data:a,param:"nol_cadence"})){if(Z=""===Z?q:n(Z,"num"),X||(X=Ie()),V=Math.ceil((Ie()-X)/1e3)||1,Y=O(a,Z),o=Y.segment,N=Y.minute,c=Y.seconds,v=q-Z,D({data:a,param:"nolPriv_currPos",val:q}),K&&void 0!==o&&K!==o&&(("dcrvideo"!==D({data:a,param:"nol_product"})||"dcrvideo"===D({data:a,param:"nol_product"})&&D({data:a,param:"nol_segmentTimeSpent"})>0)&&P(a,{save:!0}),"episode"!==D({data:a,param:"nol_cadence"})&&D({data:a,param:"nol_pingCount",val:0}),l=r(D({data:a,param:"nol_segmentLength"})),D({data:a,param:"nol_minutes",val:l}),S&&S!==C&&(D({data:a,param:"nol_dayQhr",val:C}),D({data:a,param:"nol_weekQhr",val:b}),w&&w!==L&&D({data:a,param:"nol_localDay",val:L})),k&&k!==x&&D({data:a,param:"nol_wmDayQhr",val:x}),E&&E!==M&&D({data:a,param:"nol_wmDay",val:M})),K=o,void 0!==N&&v>0){if(U!==N&&(l[N].save||"daypart"===D({data:a,param:"nol_cadence"})||(l[N].tsv>=Q?P(a):(l[N].tsv=0,l[N].updated=!1))),v<J||v<=Math.ceil(1.5*V)&&v<W)for(_=n(D({data:a,param:"nol_sendQual"}),"num"),p=0;p<v;p+=1){if((c+p)%D({data:a,param:"nol_segmentValue"})!=0){if("daypart"!==D({data:a,param:"nol_cadence"})&&l[N].tsv>=D({data:a,param:"nol_segmentValue"})&&(l[N].save?(l[N].tsv=0,l[N].save=!1,l[N].updated=!1):P(a)),l[N].tsv+=1,$.nol_cumeTimeSpent+=1,$.nol_segmentTimeSpent+=1,l[N].tsv>=Q&&_){for(l[N].updated||(D({data:a,param:"nolPriv_priority",val:Ie()}),l[N].updated=!0),u=0,m=0;u<l.length;u+=1)if((m+=l[u].tsv>=Q?1:0)>=_){_="send";break}"send"===_&&D({data:a,param:"nol_sendQual"})&&(s.onViewWon&&I(a,s.onViewWon),P(a,{save:!0}),_=0,"daypart"!==D({data:a,param:"nol_cadence"})&&D({data:a,param:"nol_sendQual",val:"0"}))}}else 0!==p&&(N+=1),l.length<=N?(P(a,{save:!0}),N=0,K+=1,D({data:a,param:"nol_currSeg",val:K}),D({data:a,param:"nol_pingCount",val:0}),l=r(D({data:a,param:"nol_segmentLength"})),D({data:a,param:"nol_minutes",val:l}),S&&S!==C&&(D({data:a,param:"nol_dayQhr",val:C}),D({data:a,param:"nol_weekQhr",val:b}),w&&w!==L&&D({data:a,param:"nol_localDay",val:L})),k&&k!==x&&D({data:a,param:"nol_wmDayQhr",val:x}),E&&E!==M&&D({data:a,param:"nol_wmDay",val:M})):"daypart"!==D({data:a,param:"nol_cadence"})&&!l[N].save&&l[N].tsv>=Q?P(a):l[N].save||(l[N].tsv=1,l[N].updated=!1),$.nol_cumeTimeSpent+=1,$.nol_segmentTimeSpent+=1;D({data:a,param:"nolPriv_currMin",val:N})}D({data:a,param:"nolPriv_now",val:Ie()}),-1!==h&&"dcrstatic"!==D({data:a,param:"nol_product"})&&(h.pauseObj.pauseTime=0)}}else o=Math.floor(q/H+1),"content"===D({data:a,param:"nol_ac"})&&(K=o,D({data:a,param:"nol_currSeg",val:K})),P(a);D({data:a,param:"nol_currSeg",val:K})}}function L(e,t,a){var n=D({data:e,param:"iag_"+t});return void 0!==n&&""!==n?a="&pr=iag."+t+","+l(n):a&&a.length>0&&-1===a.indexOf("&pr=iag")?a="&pr=iag."+t+","+l(a):void 0!==a&&null!==a||(a=""),a}function b(e,t){var a,r,o,i,s,d,c,p,u,m,v,f,_,g,y,h,w=D({data:e,param:"nol_vidtype"});D({data:e,param:"nol_prod"}).indexOf("iag")>=0&&(a="",r=L(e,"sid",D({data:e,param:"nol_sid",vidType:"content"})),o=L(e,"tfid",D({data:e,param:"nol_tfid",vidType:"content"})),i=L(e,"bcr",D({data:e,param:"nol_clientid",vidType:"content"})),d=L(e,"epi",D({data:e,param:"nol_title"})||D({data:e,param:"nol_title",vidType:"content"})),s=L(e,"pgm",D({data:e,param:"nol_censuscategory"})||D({data:e,param:"nol_category"})||D({data:e,param:"nol_iagcategory"})),s||(s=L(e,"pgm",D({data:e,param:"nol_censuscategory",vidType:"content"})||D({data:e,param:"nol_category",vidType:"content"})||D({data:e,param:"nol_iagcategory",vidType:"content"})))||(s="&pr=iag.pgm,general"),c="&pr=iag.seg,",n(D({data:e,param:"nol_chapter",vidType:"content"}),"num")>1?c+=D({data:e,param:"iag_seg"})||D({data:e,param:"nol_chapter",vidType:"content"}):c+="1",p=L(e,"pd",p),u=L(e,"oad",u),_=L(e,"fp",_),h=L(e,"cust1",h),"ad"===t?(m="&pr=iag.brn,"+D({data:e,param:"nol_clientid"}),v="&pr=iag.cte,"+l(D({data:e,param:"nol_adURL"})),f="midroll"===w?"&pr=iag.ap,mid":"postroll"===w?"&pr=iag.ap,post":"&pr=iag.ap,pre",r=L(e,"sid",r),o=L(e,"tfid",o),i=L(e,"bcr",i),m=L(e,"brn",m),v=L(e,"cte",v),s=L(e,"pgm",s),d=L(e,"epi",d),c=L(e,"seg",c),p=L(e,"pd",p),u=L(e,"oad",u),g=L(e,"pod",g),y=L(e,"apt",y),a=r+o+i+s+d+c+p+m+f+v+u+_+g+y+h):a=r+o+i+s+d+c+p+u+_+h,a+="&pr=iag.cp,soc",D({data:e,param:"nol_iagData",val:a}))}function C(t){var a;if(ce[t.id]&&ce[t.id].tags.length===ce[t.id].tagSize){if(e._listeners.fireEvent("debug",{type:"debug",msg:"pli="+t.id+"&ggpm="+JSON.stringify(t)}),ce[t.id].debug!==we&&"logging"===ce[t.id].debug){if(a=ce[t.id].nol_debugUrl,a||(a=ce[t.id].nol_prefProtocol+"://nielsen.guru/validation/query_string.php?"),ce[t.id].eventQueue.length>ce[t.id].eventQueueIndex+1)for(var n=ce[t.id].eventQueueIndex;n<ce[t.id].eventQueue.length;n++)f(a+"pli="+t.id+"&ggpm="+JSON.stringify(ce[t.id].eventQueue[n])),ce[t.id].eventQueueIndex=n;a+="pli="+t.id+"&ggpm="+JSON.stringify(t),f(a)}t.timeStamp=Ie();for(var n=0,r=ce[t.id].tags.length;n<r;n+=1)ce.hasOwnProperty(t.id)&&ce[t.id].tags[n].eventListener(t)}else ce[t.id]&&ce[t.id].eventQueue||(ce[t.id]=o(ce[t.id])),ce[t.id].eventQueue.push(t)}function E(e,t){var a,n;ce[t].bReInit||(ce[t].bReInit=!0,ce[t].eventQueue=[],e&&ce[t].eventQueue.push(e),i(Se))}function k(e,t,a){var n=!1,r=a.toString().toLowerCase().indexOf(t.toString().toLowerCase());return"-"===e&&-1===r?n=!0:"+"===e&&(a===t||-1!==r&&a&&t)?n=!0:"--"===e&&-1===t.toString().toLowerCase().indexOf(a.toString().toLowerCase())?n=!0:"++"===e&&-1!==t.toString().toLowerCase().indexOf(a.toString().toLowerCase())&&(n=!0),n}function I(e,t,a){var n=t||D({data:e,param:"nol_finalFilter"}),r,o,i,s,l,d,c,p,u,m,v,f=a||{};if(n&&void 0!==n)for(r=0,o=n.length;r<o;r+=1){if(p=n[r],p.tagVar.length)for(var i=0,s=p.tagVar.length;i<s&&(m=D({data:e,param:p.tagVar[i].name}));i++);else m=D({data:e,param:p.tagVar.name});if(m&&p.tagVar.value===m){for(i=0,s=p.cond.length;i<s;i+=1){if(c=f[p.cond[i]]||D({data:e,param:p.cond[i]}),d=0===p.is.value.indexOf("nol_")&&D({data:e,param:p.is.value})?D({data:e,param:p.is.value}):p.is.value,void 0===c||void 0===d||!k(p.is.type,c,d)){u=!1;break}u=!0}if(void 0!==u&&void 0!==(v=u?p.then:p.else))for(l in v)v.hasOwnProperty(l)&&(void 0!==f.nol_vidtype?f[l]=v[l]:D({data:e,param:l,val:v[l]}))}}}function M(e,t){var a,n=e.data._settings,r=e.param;return void 0===t||null===t?void 0===(a=n.hasOwnProperty(r)&&ce[n.nol_playerId].nol_tagMap.hasOwnProperty(r)&&("object"==typeof ce[n.nol_playerId].nol_tagMap[r]||"array"==typeof ce[n.nol_playerId].nol_tagMap[r])?ce[n.nol_playerId].nol_tagMap[r][n[r]]:n.hasOwnProperty("nol_defaults")&&n.nol_defaults.hasOwnProperty(r)?n.nol_defaults[r]:ce[n.nol_playerId].nol_tagMap.nol_defaults[r]||ce[n.nol_playerId][r])&&(a=n.hasOwnProperty(r)?n[r]:ce[n.nol_playerId].nol_tagMap[r]):n.hasOwnProperty("nol_defaults")&&n.nol_defaults.hasOwnProperty(r)?n.nol_defaults[r]=t:n[r]=t,a}function D(t){try{if(t){if("string"==typeof t.param&&-1===t.param.indexOf("nol_")&&-1===t.param.indexOf("nolPriv_")&&t.param.split("_").length-1>1)return;var a="string"==typeof t.param?t.param.split("_"):t.param,n,r=a[0]?a.splice(0,2).join("_"):a,o=t.vidType||a[0]||t.data._currVidType,i=t.data._currAssetid||"0",s=void 0!==t.data._dataArrObj[o][i]?t.data._dataArrObj[o][i]:t.data._dataArrObj[o][Object.keys(t.data._dataArrObj[o]).splice(-1,1)],l=Oe[r]?Oe[r].clientField:r;if("object"==typeof l)n=s;else if("nol_segmentTimeSpent"===l||"nol_cumeTimeSpent"===l||"nol_count"===l){var d=D({data:t.data,param:"nol_timeSpentViewing"});n=d[o][l]}else void 0===t.val||null===t.val?void 0!==(n=s&&s.hasOwnProperty(l)?s[l]:ce[t.data._settings.nol_playerId][l])&&""!==n||void 0!==(n=M(t)||"")&&""!==n||(0===l.indexOf("nol_")?t.param=l:t.param=r,n=M(t)||""):s&&(s[l]=t.val);return n}return null}catch(t){window.console&&window.console.error&&window.console.error("Error in Data(): "+t.message+" __param: "+a),e._listeners.fireEvent("error",{type:"error",msg:"Error in Data(): "+t.message})}}function x(t,a){var n=xe.findPlayer(t),r=n.oServiceCall[a.service],o=a.url,i=a.key,s;if(a.evntCB=D({data:t,param:t.serviceFlag[a.service].callback}),a.callBack=function(e){A(t,e,a)},!r&&i&&o&&o.length>0)"stnupdate"===a.evntCB&&(void 0===n.oServiceCall[a.service]||void 0===n.oServiceCall[a.service].status||"init"!==n.oServiceCall[a.service].status&&"complete"!==n.oServiceCall[a.service].status)&&(n.oServiceCall[a.service]={status:"init",station:null,data:null}),e._listeners.addListener(a.evntCB,a.callBack,!0),_(m(t,o),a.service,n);else if(r&&"init"===r.status);else if(r&&"complete"===r.status&&i!==r.station)e._listeners.addListener(a.evntCB,a.callBack,!0),_(m(t,o),a.service,n);else if(r&&"complete"===r.status&&i===r.station){for(s in r.data)r.data.hasOwnProperty(s)&&D({data:t,param:s,val:r.data[s]});if(Le?I(t,Le[a.service]):I(t,Te),"true"===D({data:t,param:"nol_disabled"}))return;t.serviceFlag[a.service].need&&(D({data:t,param:"nol_davState",val:"1"}),t.serviceFlag[a.service].need=!1,T(D({data:t,param:"nol_queueTime"}),t))}else e._listeners.fireEvent(a.evntCB,a),window.setTimeout(function(){x(t,a)},1e3)}function A(e,t,a){var r={},o,i=0,s;if(D({data:e,param:"nol_playerId"})===t.target.nol_playerId){for(s in t.target)t.target.hasOwnProperty(s)&&(D({data:e,param:s,val:t.target[s]}),r[s]=t.target[s]);var l=xe.findPlayer(e);if(l){var d=void 0!==l.oServiceCall[a.service]&&l.oServiceCall[a.service].hasOwnProperty("status")?l.oServiceCall[a.service].status:"undefined";l.oServiceCall[a.service]={status:"complete",prevStatus:d,station:a.key,data:r},l.serviceSending[a.service]=!1}if(Le?I(e,Le[a.service]):I(e,Te),"true"===D({data:e,param:"nol_disabled"}))return;e.serviceFlag[a.service].need&&(D({data:e,param:"nol_davState",val:"1"}),e.serviceFlag[a.service].need=!1,t.target.hasOwnProperty("nol_fdTimeCode")&&"daypart"===D({data:e,param:"nol_cadence"})&&(i=n(t.target.nol_fdTimeCode,"num"),o=n(D({data:e,param:"nol_queueTime"}),"num"),D({data:e,param:"nol_queueTime",val:o+i})),T(D({data:e,param:"nol_queueTime"}),e))}}function B(e){if("id3"===D({data:e,param:"nol_product"})&&D({data:e,param:"nol_id3Data"}))return void P(e);e.isProductOf("vrivideo")&&"ended"!==e.set("nol_vriEvent")||"true"!==D({data:e,param:"nol_disabled"})&&"1"===D({data:e,param:"nol_davState"})&&(D({data:e,param:"nol_davState",val:"2"}),"daypart"===D({data:e,param:"nol_cadence"})?P(e,{save:!0}):P(e),S(e),D({data:e,param:"nol_disabled",val:"true"}))}function R(e){"dcrstatic"===D({data:e,param:"nol_product"})&&"stream"!==D({data:e,param:"nol_cadence"})||e.isProductOf("vrivideo")||("content"===D({data:e,param:"nol_ac"})&&D({data:e,param:"nol_segmentTimeSpent"})>0||"streamduration"===D({data:e,param:"nol_cadence"})&&D({data:e,param:"nol_segmentTimeSpent"})>0||"dcrstatic"===D({data:e,param:"nol_product"})&&"stream"===D({data:e,param:"nol_cadence"})||"postroll"===D({data:e,param:"nol_vidtype"})&&"interval"===D({data:e,param:"nol_cadence"}))&&("content"===D({data:e,param:"nol_ac"})?P(e,{save:!0}):P(e),D({data:e,param:"nolPriv_now",val:0}))}function N(t,a){var n=null,r=Math.round(Ie(t)/1e3);try{t&&De.isEnabled(t)&&(n=Ae.inferEvent(a.currEvtType,t,a._param1,r,a._param3))&&(n.event!==Ae.events.play&&xe.state.set(t,n),De.preProcess(t,n))}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in ggpmPreProc(). Error preprocessing event - "+t.message})}return{inferredEvent:n,timestamp:r}}function F(t,a){try{t&&a.inferredEvent&&(a.inferredEvent.event===Ae.events.play&&xe.state.set(t,a.inferredEvent),De.postProcess(t,a.inferredEvent))}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in ggpmPostProc(). Error postprocessing event - "+t.message})}}function V(t){try{var a=D({data:t,param:"nol_playerId"});ce&&ce.hasOwnProperty(a)&&(!ce[a].hasOwnProperty("nol_sessionId")||ce[a].hasOwnProperty("forceStreamRegen")&&!0===ce[a].forceStreamRegen)&&(ce[a].nol_sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),ce[a].forceStreamRegen=!1)}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in calcStreamId - "+t.message})}}function G(t,a){var o=D({data:t,param:"nol_playerId"});if(o===a.id){if(!a.evtInfo||a.evtInfo.hasOwnProperty("param1")&&(null===a.evtInfo.param1||void 0===a.evtInfo.param1))return void e._listeners.fireEvent("error",{type:"error",msg:"Error in handleGgpm - Invalid Param1 passed"});var i=a.evtInfo,s=i.param1,l=i.param3?i.param3:s.hasOwnProperty("param3")?s.param3:s,d=i.param2||"",c,p,u,m,f=n(D({data:t,param:"nolPriv_id3Count"}),"num"),_,g,y,h=D({data:t,param:"nol_segmentSpentViewing"}),w=D({data:t,param:"nol_enableFilterMap"}),S="|mtvr|,|dprid3|,|id3|",O,L,C={filters:{onId3PcCidChanged:!1,onId3FdCidChanged:!1},count:0,filterType:"old"},k,M,A,G=D({data:t,param:"nol_prod"}),U,Q={},W=i.eventType.toString(),J,H="content",K,X,Y,$=D({data:t,param:"nolPriv_serverTimeOffset"
}),Z=Oe.nol_vidtype?Oe.nol_vidtype.clientField:"nol_vidtype",ee=Oe.nol_tagSrc?Oe.nol_tagSrc.clientField:"nol_tagSrc",te=Oe.nol_assetid?Oe.nol_assetid.clientField:"nol_assetid",ae=Oe.nol_ac?Oe.nol_ac.clientField:"nol_ac",ne=Oe.nol_linearAdLoadFlag?Oe.nol_linearAdLoadFlag.clientField:"nol_linearAdLoadFlag",re=l[Z]?l[Z].toString().toLowerCase():"",oe=Math.round(Ie()/1e3),ie="nol_assetid",se=xe.findPlayer(t),le={},de=N(t,{currEvtType:W,_param1:s,_param3:l});switch(W=W.toLowerCase()){case"3":case"14":case"15":case"loadmetadata":case"staticstart":case"pauseloadmeta":if(("14"===W||"staticstart"===W)&&"dcrstatic"!==D({data:t,param:"nol_product"}))return;if("14"!==W&&"staticstart"!==W&&"dcrstatic"===D({data:t,param:"nol_product"}))return;if("pauseloadmeta"===W&&t.isProductOf("vrivideo"))return;var pe=","+D({data:t,param:"nol_contentType"});t._currVidType=re&&-1!==pe.indexOf(","+re)?"content":"dcrstatic"===D({data:t,param:"nol_product"})?"static":"ad";var ue=null,me=null;if(("ad"===D({data:t,param:"nol_ac"})&&D({data:t,param:"nol_segmentTimeSpent"})>0&&"streamduration"===D({data:t,param:"nol_cadence"})||"stream"===D({data:t,param:"nol_cadence"})&&"dcrstatic"===D({data:t,param:"nol_product"})||"dcrstatic"===D({data:t,param:"nol_product"})&&String(t._currAssetid)!==String(l[te]))&&B(t),!0===D({data:t,param:"nol_onCompleteFired"})?("content"!==t._currVidType&&"static"!==t._currVidType||("content"===t._currVidType.toLowerCase()&&ce[o].hasOwnProperty("forceStreamRegen")&&!0===ce[o].forceStreamRegen&&V(t),D({data:t,param:ie,val:-1}),"content"===t._currVidType?(ue=xe.state.clone(t),me=De.clone(t),j({data:t,savedVals:["nol_nielsenAdSupportFlg"],savedReplayParams:le})):j({data:t,resetStatic:!0})),D({data:t,param:"nol_onCompleteFired",val:!1})):"14"!==W&&"staticstart"!==W||"stream"!==D({data:t,param:"nol_cadence"})||(D({data:t,param:ie,val:-1}),j({data:t})),"ad"===t._currVidType&&t._dataArrObj[t._currVidType].hasOwnProperty(t._currAssetid)){D({data:t,param:"nol_minutes",val:r(D({data:t,param:"nol_segmentLength"}))}),D({data:t,param:ie,val:-1}),D({data:t,param:Z,val:re}),"1"!==D({data:t,param:"nol_nielsenAdSupportFlg",vidType:"content"})&&D({data:t,param:"nol_nielsenAdSupportFlg",val:"1",vidType:"content"})}if(t._currAssetid=l&&l.hasOwnProperty(te)&&"daypart"===D({data:t,param:"nol_cadence"})||"stream"!==D({data:t,param:"nol_cadence"})&&"dcrstatic"===D({data:t,param:"nol_product"})?l[te]:t._currAssetid,l.nol_ac=t._currVidType,n(D({data:t,param:"nol_serverTime"}),"num")+86400<Math.round(Ie()/1e3)+$)return B(t),void E(a,D({data:t,param:"nol_playerId"}));for(J=0,K=w.length;J<K;J+=1)c=Oe[w[J]]?Oe[w[J]].clientField:w[J],Q[w[J]]=String(l[c]||"");if(_=l.hasOwnProperty(te)?String(l[te]):D({data:t,param:"nolPriv_assetid"}),I(t,Te.onCmsDetected,Q),"false"!==Q.nol_disabled||!l)return void("cms"!==t._currTagSrc&&(q(t,"loadMetadata",l),D({data:t,param:"nol_disabled",val:"true"})));if("static"===t._currVidType&&"dcrstatic"===D({data:t,param:"nol_product"})?(e._listeners.fireEvent("updateCmbStaticPage",{evtInfo:i,plid:o}),H="static"):H="content",_!==D({data:t,param:ie})){if("ad"!==D({data:t,param:"nol_ac"})&&B(t),q(t,"loadMetadata",l),Object.keys(le).length>0){for(var ve in le)le.hasOwnProperty(ve)&&""!==le[ve]&&D({data:t,param:ve,val:le[ve]});le={}}if(D({data:t,param:"nolPriv_assetid",val:D({data:t,param:ie})}),"15"!==W&&"loadmetadata"!==W||"id3"!==D({data:t,param:ee,vidType:"content"})||!1!==D({data:t,param:"nolPriv_dtvrHybrid",vidType:"content"})||D({data:t,param:"nolPriv_dtvrHybrid",val:!0,vidType:"content"}),I(t,Te.onAssetIdChanged),"true"===D({data:t,param:"nol_disabled"}))return;if("drm"===D({data:t,param:"nol_product"}))t.serviceFlag.stn.need=!0;else if(t.serviceFlag.stn.need=!1,"true"===D({data:t,param:"nol_disabled"}))return;if(I(t,Te.onComplete),ue&&xe.state.bind(t,ue),me&&De.bind(t,me),"true"===D({data:t,param:"nol_disabled"}))return}if("ad"===t._currVidType&&t.isProductOf(["dcrvideo","vrivideo"])&&"impression"!==D({data:t,param:"nol_cadence"})){D({data:t,param:"nol_timeSpentViewing"})[t._currVidType].nol_count++}t.isProductOf("vrivideo")&&"impression"===t.get("nol_cadence")&&(t.set("nol_vriEvent","start"),t.set("nol_startPos","")),D({data:t,param:"nol_pingStartTimeUTC",val:Math.round(Ie()/1e3)}),-1!==G.indexOf("iag")&&b(t,t._currVidType,Oe),("ad"===t._currVidType&&!t.isProductOf(["dcrvideo","vrivideo"])||"stream"===D({data:t,param:"nol_cadence"}))&&(D({data:t,param:"nol_pingCount",val:0}),D({data:t,param:"nolPriv_sendData",val:!0}),D({data:t,param:"nol_davState",val:"0"}),t.serviceFlag.stn.need||"content"===t._currVidType||"nol_cmsoffset"!==D({data:t,param:"nol_timer"})&&"nol_pageoffset"!==D({data:t,param:"nol_timer"})||T(0,t)),"14"!==W&&"staticstart"!==W||"dcrstatic"!==D({data:t,param:"nol_product"})||!0===se.static.started||(e.PLDCR.start(!0),se.static.started=!0);break;case"5":case"play":if("mtvr"===D({data:t,param:"nol_product"})){if(A=Oe.nol_channelName?Oe.nol_channelName.clientField:"nol_channelName",l[A]&&l[A].length>0)for(X in l)l.hasOwnProperty(X)&&D({data:t,param:X,val:l[X]})}else t.isProductOf(["dcrvideo","vrivideo"])&&(t._currVidType="content",Q={nol_vidtype:D({data:t,param:Z,vidType:t._currVidType}),nol_tagSrc:D({data:t,param:ee,vidType:t._currVidType}),nol_linearAdLoadFlag:D({data:t,param:ne,vidType:t._currVidType}),nol_ac:D({data:t,param:ae,vidType:t._currVidType})},I(t,Te.onCmsDetected,Q));break;case"6":case"pause":R(t);break;case"7":case"stop":R(t);break;case"updateott":if(R(t),s&&s.hasOwnProperty("ottStatus")&&s.ottStatus.length>0){if(s.hasOwnProperty("kGCKMetadataNlsKeyOptout")&&s.hasOwnProperty("kGCKMetadataNlsKeyDeviceID")){var fe=s.kGCKMetadataNlsKeyOptout.toString().toLowerCase();D({data:t,param:"nol_userSessionId",val:s.kGCKMetadataNlsKeyDeviceID,vidType:"content"}),D({data:t,param:"nol_useroptout",val:"1"===fe||"true"===fe?"true":"false",vidType:"content"}),-1===fe.indexOf([1,"1","true",0,"0","false"])&&e._listeners.fireEvent("warn",{type:"warn",msg:"Warning: Invalid kGCKMetadataNlsKeyOptout value."})}for(var ie in s)s.hasOwnProperty(ie)&&(D({data:t,param:ie,val:s[ie],vidType:"content"}),se.ottStatusObj[ie]=s[ie]);Te.onOTTDetected&&I(t,Te.onOTTDetected)}break;case"57":case"56":case"end":case"oncomplete":case"staticend":if(("56"===W||"staticend"===W)&&"dcrstatic"!==D({data:t,param:"nol_product"}))return;if("56"!==W&&"staticend"!==W&&"dcrstatic"===D({data:t,param:"nol_product"}))return;if(t.isProductOf("vrivideo")&&("57"===W||"end"===W)&&("sessionReset"===d||"modcadence"!=t.get("nol_cadence")))return;if(!("57"!==W&&"oncomplete"!==W||"mtvr"!==D({data:t,param:"nol_product"})&&"id3"!==D({data:t,param:ee,vidType:"content"})||!0===D({data:t,param:"nolPriv_dtvrHybrid",vidType:"content"})))return;if("ad"===t._currVidType&&("streamduration"===D({data:t,param:"nol_cadence"})?P(t):t.isProductOf(["dcrvideo"])&&"interval"===D({data:t,param:"nol_cadence"})&&(""===D({data:t,param:"nol_dataDate",vidType:"content"})&&""!==D({data:t,param:"nol_dataDate"})&&(D({data:t,param:"nol_dataDate",val:D({data:t,param:"nol_dataDate"}),vidType:"content"}),D({data:t,param:"nol_hourCode",val:D({data:t,param:"nol_hourCode"}),vidType:"content"}),D({data:t,param:"nol_dayId",val:D({data:t,param:"nol_dayId"}),vidType:"content"})),t._currVidType="content",Te.onEndDetected&&I(t,Te.onEndDetected),P(t))),t.isProductOf("vrivideo")&&"modcadence"===t.get("nol_cadence")){if("NaN"===parseInt(t.get("nol_length")).toString())return;if(!(t.get("nol_currPos")>=t.get("nol_length")))return;t.set("nol_vriEvent","ended")}"static"!==D({data:t,param:"nol_ac"})&&(t._currVidType="content"),Te.onEndDetected&&I(t,Te.onEndDetected),D({data:t,param:"nol_forceFireOnClose_content",val:"1"}),"false"!==D({data:t,param:"nol_disabled"})&&"id3"!==D({data:t,param:"nol_product"})||("static"===D({data:t,param:"nol_ac"})&&e._listeners.fireEvent("removeCmbAssetId",i),B(t)),D({data:t,param:"nol_onCompleteFired",val:!0}),ce[o].forceStreamRegen=!0,"56"!=W&&"staticend"!=W||"dcrstatic"!==D({data:t,param:"nol_product"})||(e.PLDCR.stop(),se.static.started=!1),"57"!==W&&"oncomplete"!==W||D({data:t,param:"nolPriv_dtvrHybrid",val:!1,vidType:"content"});break;case"48":case"setpageduration":case"pageduration":case"staticposition":if("true"===D({data:t,param:"nol_disabled"})||!s||"nol_pageoffset"!==D({data:t,param:"nol_timer"}))return;"1"===D({data:t,param:"nol_onPaginateFired_static"})&&(D({data:t,param:"nol_onPaginateFired",val:"0",vidType:"static"}),"impression"!==D({data:t,param:"nol_cadence"})&&z(t,{vidType:"static"})),Y=n(D({data:t,param:"nol_highWM"}),"num"),Y<n(s,"num")&&D({data:t,param:"nol_highWM",val:s}),T(s,t),D({data:t,param:"nol_davState",val:"1"});break;case"49":case"setplayheadposition":case"playheadposition":if(s>-1){if(!0===D({data:t,param:"nol_onCompleteFired"})&&e._listeners.fireEvent("flushPauseEventQueue"),"true"===D({data:t,param:"nol_disabled"})||!s||"nol_cmsoffset"!==D({data:t,param:"nol_timer"})||"ad"===t._currVidType&&t.isProductOf(["dcrvideo","vrivideo"])&&"impression"===D({data:t,param:"nol_cadence"}))return;if("number"!=typeof s){if("string"!=typeof s)return;s=n(s,"num")}if(t.isProductOf("vrivideo")){var _e=Math.floor(s);"impression"===t.get("nol_cadence")&&1===_e&&_e<t.get("nolPriv_prevPos")&&(t.set("nol_pingCount",0),t.set("nol_currPos","")),"modcadence"===t.get("nol_cadence")&&t.set("nol_vriEvent","loop")}D({data:t,param:"nol_isLive",val:(s>86400).toString()}),Y=n(D({data:t,param:"nol_highWM"}),"num"),Y<s&&D({data:t,param:"nol_highWM",val:s}),t.serviceFlag.stn.need?(D({data:t,param:"nol_queueTime",val:s}),x(t,{service:"stn",key:D({data:t,param:"nol_assetid"}),url:D({data:t,param:"nol_stationURL"}),nol_playerId:D({data:t,param:"nol_playerId"})})):T(s,t),D({data:t,param:"nol_davState",val:"1"})}else a.timeStamp&&!Me[a.timeStamp]&&(Me[a.timeStamp]=v(t,{type:15,msg:"A negative playhead position was sent and will be ignored."},void 0,!0),Me[a.timeStamp]&&e._listeners.fireEvent("warn",{type:"warn",msg:"Warning: A negative playhead position was sent and will be ignored."}));break;case"55":case"sendid3":if(("object"==typeof s&&Object.keys(s).length>0||"string"==typeof s&&s.length>0)&&(!0===D({data:t,param:"nol_onCompleteFired"})&&se&&se.getPauseQueueCount&&se.getPauseQueueCount()>0?e._listeners.fireEvent("flushPauseEventQueue"):!0===D({data:t,param:"nol_onCompleteFired"})&&se&&!se.getPauseQueueCount&&e._listeners.fireEvent("flushPauseEventQueue"),"object"==typeof s))for(K=0;K<s.length;K+=1)if(s[K].key&&"PRIV"===s[K].key){s=s[K].info;break}if(L=s.toString(),249!==L.length&&a.timeStamp&&!Me[a.timeStamp]&&(Me[a.timeStamp]=!0,window.console&&window.console.warn&&window.console.warn("Warning: ID3 tag length is not 249."),e._listeners.fireEvent("warn",{type:"warn",msg:"ID3 tag length is not 249."})),O=L.split("/"),s={},O.length<n(Ee.nol_breakout,"num"))return;for(X in Ee)Ee.hasOwnProperty(X)&&(s[X]=O[Ee[X]],"nol_breakout"===X&&(s[X]=O[n(Ee[X],"num")].substr(0,2)),Q[X]=s[X]);if(!s||D({data:t,param:"nol_tsvBreakoutMap"})&&-1===D({data:t,param:"nol_tsvBreakoutMap"}).enable.indexOf(s.nol_breakout)||-1===s.nol_nWebAddress.indexOf("nielsen.com")||s.nol_fdcid===D({data:t,param:"nol_cidNull"})&&s.nol_pccid===D({data:t,param:"nol_cidNull"}))return;for(t._currVidType="content",J=0,K=w.length;J<K;J+=1)c=Oe[w[J]]?Oe[w[J]].clientField:w[J],Q[w[J]]=s[c]||D({data:t,param:w[J]});if(Q.nol_vidtype="content",I(t,Te.onId3Detected,Q),"false"!==Q.nol_disabled||"nol_cmsoffset"===D({data:t,param:"nol_timer"}))return;if("daypart"===D({data:t,param:"nol_cadence"})){var ge=D({data:t,param:"nol_assetid"})||t._currAssetid;!ge&&s.nol_fdcid&&s.nol_fdcid!==D({data:t,param:"nol_cidNull"})?t._currAssetid=s.nol_fdcid:!t._currAssetid&&ge&&(t._currAssetid=ge)}if(s.nol_ac=t._currVidType,s.nol_assetid=D({data:t,param:"nol_assetid"})||t._currAssetid,f>0&&(-1!==D({data:t,param:"nol_product"}).indexOf("id3")||-1!==D({data:t,param:"nol_product"}).indexOf("mtvr"))&&(s.nol_pccid!==D({data:t,param:"nol_cidNull"})&&s.nol_pccid!==D({data:t,param:"nol_pccid"})||s.nol_fdcid!==D({data:t,param:"nol_cidNull"})&&s.nol_fdcid!==D({data:t,param:"nol_fdcid"}))&&P(t),!D({data:t,param:"nol_subTag"})&&"id3"!==D({data:t,param:"nol_product"})||s.nol_pccid===D({data:t,param:"nol_cidNull"})||s.nol_pccid===D({data:t,param:"nol_pccid"})||(C.filters.onId3PcCidChanged=!0,C.count+=1),D({data:t,param:"nol_subTag"})||s.nol_fdcid===D({data:t,param:"nol_cidNull"})||s.nol_fdcid===D({data:t,param:"nol_fdcid"})||(C.filters.onId3FdCidChanged=!0,C.count+=1),C.count){if(q(t,"sendID3",s),!C.filters.onId3FdCidChanged&&D({data:t,param:"nol_fdcid"})!=D({data:t,param:"nol_cidNull"})||-1===D({data:t,param:"nol_tsvBreakoutMap"}).enable.indexOf(s.nol_breakout)||(t.serviceFlag.tsv.need=!0),C.count>0)for(X in C.filters)if(C.filters[X]&&(I(t,Te[X]),"true"===D({data:t,param:"nol_disabled"})))return;if(Te.onComplete&&(I(t,Te.onComplete),"true"===D({data:t,param:"nol_disabled"})))return}else for(X in s)s.hasOwnProperty(X)&&D({data:t,param:X,val:s[X]});if(D({data:t,param:"nol_id3Raw",val:L}),t.serviceFlag.tsv.need&&-1!==S.indexOf("|"+D({data:t,param:"nol_product"})+"|")&&(M=D(!0===C.filters.onId3PcCidChanged?{data:t,param:"nol_pccid"}:{data:t,param:"nol_fdcid"}),x(t,{service:"tsv",key:M,url:D({data:t,param:"nol_tsvURL"})})),"id3"===D({data:t,param:"nol_product"})&&s.nol_watermark&&String(s.nol_watermark).length>0)return g=D({data:t,param:"nol_id3Data"}),y=Math.round(Ie()/1e3+$),U=D({data:t,param:"nol_id3Seq"})||0,g?D({data:t,param:"nol_id3Data",val:g+="|"+y+","+D({data:t,param:"nol_id3Raw"})}):(D({data:t,param:"nol_id3Data",val:U+":"+D({data:t,param:"nol_clocksrc"})+":"+D({data:t,param:"nol_tsvFlag"})+":"+y+","+D({data:t,param:"nol_id3Raw"})}),D({data:t,param:"nol_id3Seq",val:n(U,"num")+1,vidType:"content"})),f>0&&P(t,{returnLength:!0}),f+=1,D({data:t,param:"nolPriv_id3Count",val:f}),void D({data:t,param:"nol_davState",val:"1"});if(f+=1,D({data:t,param:"nolPriv_id3Count",val:f}),k=D({data:t,param:D({data:t,param:"nol_timer"})})||D({data:t,param:"nol_fdoffset"}),"daypart"===D({data:t,param:"nol_cadence"})&&(k=n(k,"num"),k+="nol_pcoffset"==D({data:t,param:"nol_timer"})?n(D({data:t,param:"nol_pcTimeCode"}),"num"):n(D({data:t,param:"nol_fdTimeCode"}),"num")),t.serviceFlag.tsv.need)D({data:t,param:"nol_queueTime",val:k});else{if("true"===D({data:t,param:"nol_disabled"}))return;T(k,t),D({data:t,param:"nol_davState",val:"1"})}break;case"60":case"mute":break;case"30":case"onpaginate":"dcrstatic"===D({data:t,param:"nol_product"})&&Te.onPaginateDetected&&"stream"!==D({data:t,param:"nol_cadence"})&&I(t,Te.onPaginateDetected),D({data:t,param:"nol_onPaginateFired",val:"1",vidType:"static"});break;case"35":case"updatemetadata":if("dcrvideo"===D({data:t,param:"nol_product"})){xe.updateMetadata(t,l,Oe);var ye=D({data:t,param:"nol_adLoadType",vidType:"content"});""!==ye&&void 0!==ye&&null!==ye&&I(t,Te.onAdLoadFlag)}}F(t,de)}}function U(e){var t,a=null,r="content"==e._currVidType?n(D({data:e,param:"nol_chnlCountThrshld"}),"num")||ie:n(D({data:e,param:"nol_staticCountThrshld"}),"num")||ie,o=e._dataArrObj[e._currVidType],i,s=0,l=e._dataArrObj.count;if(!e._dataArrObj[e._currVidType].hasOwnProperty(e._currAssetid)){if(l[e._currVidType]>=r){for(i in o)if(o.hasOwnProperty(i)){if((s=o[i].nolPriv_priority)<=0){t=i;break}(null===a||a>s)&&(a=s,t=i)}o.hasOwnProperty(t)&&(delete o[t],l[e._currVidType]-=1)}e._dataArrObj[e._currVidType][e._currAssetid]={nolPriv_priority:0},l[e._currVidType]+=1}}function j(t){try{if(!t||!t.hasOwnProperty("data"))return;if(t.hasOwnProperty("savedVals")&&t.hasOwnProperty("savedReplayParams"))if(Array.isArray(t.savedVals))for(var a in t.savedVals)t.savedVals.hasOwnProperty(a)&&(t.savedReplayParams[t.savedVals[a]]=D({data:t.data,param:t.savedVals[a]}));else"string"==typeof t.savedVals&&(t.savedReplayParams[t.savedVals]=D({data:t.data,param:t.savedVals}));t.hasOwnProperty("resetStatic")&&!0===t.resetStatic&&(t.data._dataArrObj.static={}),t.data._dataArrObj.ad={},t.data._dataArrObj.content={},t.data._dataArrObj.count={content:0,ad:0,static:0},t.data._currAssetid="0"}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in resetDataObj"+t})}}function Q(t){try{var a=D({data:t,param:"nol_playerId"});if(a&&e._players&&e._players.hasOwnProperty(a)){var n=e._players[a];if(n&&Object.keys(n.ottStatusObj).length>0){var r;for(r in n.ottStatusObj)D({data:t,param:r,val:n.ottStatusObj[r],vidType:"content"})}}}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in populateOttStatus"+t})}}function z(t,a){try{if("1"===D({data:t,param:"nol_unifiedEnabled"})){var r=a&&a.hasOwnProperty("vidType")?a.vidType:t._currVidType.toLowerCase(),o=n(D({data:t,param:"nol_viewCount_"+r}),"num");D({data:t,param:"nol_viewCount_"+r,val:o+=1}),"1"===D({data:t,param:"nol_applyViewInc"})&&D({data:t,param:"nol_applyViewInc",val:"0"})}}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in incViewCnt"+t})}}function q(e,t,a){var n="",r,o,i="nol_minutes, nol_tagPresence, nol_pingCount, nol_currSeg, nol_segmentTimeSpent, nol_cumeTimeSpent, nol_count",s=D({data:e,param:{}}),l,d,c=D({data:e,param:"nol_playerId"});if(U(e),"ad"===e._currVidType.toLowerCase()&&(n="st,a",D({data:e,param:"nol_currSeg",val:"0"})),""===D({data:e,param:"nol_errorURL"})&&D({data:e,param:"nol_errorURL",val:te+ee+ne+"?message=|![nol_errorMessage]!|"}),"loadMetadata"===t)for(r in s)s.hasOwnProperty(r)&&-1===i.indexOf(r)&&D({data:e,param:r,val:M({data:e,param:r})||""});for(r in a)a.hasOwnProperty(r)&&D({data:e,param:String(r),val:String(a[r])});D({data:e,param:"nolPriv_sendData",val:!0}),D({data:e,param:"nol_davState",val:"0"}),D({data:e,param:"nol_highWM",val:"0"}),D({data:e,param:"nol_iagData",val:""}),D({data:e,param:"nol_disabled",val:"false"}),D({data:e,param:"nol_sendQual",val:M({data:e,param:"nol_sendQual"})||""}),D({data:e,param:"nolPriv_assetid",val:""}),"S"===M({data:e,param:"nol_segmentPrefix"})&&D({data:e,param:"nol_segmentPrefix",val:"S"}),D({data:e,param:"nol_c3"})||D({data:e,param:"nol_c3",val:n}),"content"===e._currVidType.toLowerCase()&&V(e),D({data:e,param:"nol_applyViewInc",val:"1"}),(!D({data:e,param:"nol_minutes"})||"daypart"!==D({data:e,param:"nol_cadence"})&&"dcrstatic"!==D({data:e,param:"nol_product"})||"dcrstatic"===D({data:e,param:"nol_product"})&&"stream"===D({data:e,param:"nol_cadence"}))&&(S(e),D({data:e,param:"nol_pingCount",val:0}));var p=D({data:e,param:"nol_adLoadType",vidType:"content"});""!==p&&void 0!==p&&null!==p&&I(e,Te.onAdLoadFlag),Q(e)}function W(t,n){var r=n.id||n.getId?n.getId():"0",o=ce[r].nol_tagMap.nol_url,i,s,l,c=0,p=o?o[t.nol_url]||t.nol_url||"":t.nol_url||"",u={stn:{need:!1,callback:"nol_stnevt"},tsv:{need:!1,callback:"nol_tsvevt"}},m={ad:{},content:{},static:{},count:{content:0,static:0}},v={nol_disabled:"true",nol_errorMessage:"none",nol_vidtype:"",nol_muteState:"0",nol_volumeLevel:"100",nol_clockSource:"D",nol_aggregate:"1",nol_pingCount:"0",nol_intrvlThrshld:"90",nol_id3IntrvlGp:"15",nolPriv_sendData:!0,nol_timer:"nol_fdoffset",nol_isLive:"false",nolPriv_errorSent:"",nolPriv_id3Count:0,nolPriv_cmsMap:{},nol_timeSpentViewing:{ad:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0},content:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0},static:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0}},nol_enableFilterMap:["nol_vidtype","nol_tagSrc","nol_linearAdLoadFlag","nol_ac"],nol_xorSeed:"N!3ls3nBL",nol_currSeg:"0",nol_minWonOverride:"0",nol_customExtension:["nol_legacyCustom"],nol_pingCreationTime:"0",nol_pingSendTime:"0",nol_clientUrl:window.location.href,nol_sendTime:"0",nol_pageURL:window.location.href.replace(/\"/g,"").replace(/\'/g,"").replace(/%27/g,"").replace(/%22/g,""),nol_referrerURL:window.document.referrer.replace(/\"/g,"").replace(/\'/g,"").replace(/%27/g,"").replace(/%22/g,""),nol_random:Math.round(1e9*Math.random()),nol_ottStatus:"0",nol_ottType:"none",nol_ottDevice:"NA",nol_ottDeviceName:"NA",nol_ottDeviceID:"NA",nol_ottDeviceManufacturer:"NA",nol_ottDeviceModel:"NA",nol_ottDeviceVersion:"NA",nol_onPaginateFired:"0",nol_forceFireOnClose:"0",nol_applyViewInc:"0"},f=t;f.nol_playerId=r;var _={_dataArrObj:m,_settings:f,_currVidType:"ad",_currAssetid:"0",serviceFlag:u,isProductOf:function(e){return!!e&&("object"==typeof e?e.indexOf(D({data:this,param:"nol_product"}))>-1:D({data:this,param:"nol_product"})===e)},get:function(e){return D({data:this,param:e})},set:function(e,t){return D({data:this,param:e,val:t})}};e._listeners.addListener("tick",function(){if(n.pauseObj.eventPauseTime>=n.pauseObj.cmsPauseTime&&xe.state.status.current(_)!==xe.states.stopped&&xe.state.status.current(_)!==xe.states.paused&&De.isEnabled(_)){var t={event:Ae.events.pause,curPos:xe.state.position.current(_),prevPos:null,timestamp:xe.state.timeStamp.current(_)};xe.state.set(_,t),De.preProcess(_,t),n.pauseObj.eventPauseTime=0}n.pauseObj.pauseTime>n.pauseObj.maxPauseTime&&"dcrstatic"!==D({data:_,param:"nol_product"})&&"vrivideo"!==D({data:_,param:"nol_product"})&&(n.pauseObj.pauseTime=0,e._listeners.fireEvent("handleSessionReset",{plid:r,passedFdata:_}),e._listeners.fireEvent("debug",{type:"debug",msg:"Max pause time reached. Just fired handleSessionReset."}))}),j({data:_});for(l in v)t.hasOwnProperty(l)?f[l]=t[l]:f[l]=ce[r][l]||v[l];if(f.nol_customExtension&&p){for(i=0,s=f.nol_customExtension.length;i<s;i+=1)p=p.replace("|!["+f.nol_customExtension[i]+"]!|",ce[r][f.nol_customExtension[i]]||"");f.nol_url=p}if("true"!==D({data:_,param:"nol_fireStop"})&&-1==="interval,episode,streamduration".indexOf(D({data:_,param:"nol_cadence"}))||a("pagehide||beforeunload",function(e){_e&&(window.clearInterval(_e),_e=0,d({serverTimeOffset:D({data:_,param:"nolPriv_serverTimeOffset"}),url:"__sendIt",maskRef:D({data:_,param:"nol_rfrmsk"})})),"sendBeacon"in navigator&&(Ce=!0),D({data:_,param:"nol_forceFireOnClose_content",val:"1"}),Te.onEndDetected&&I(_,Te.onEndDetected),De.setNextTick(_,null,"content"),B(_)}),this.eventListener=function(e){G(_,e)},ce[r].eventQueue.length>c)for(i=0;i<ce[r].eventQueue.length;i+=1)ce[r]&&ce[r].eventQueue&&(ce[r].eventQueue[i].timeStamp="queued"+i),G(_,ce[r].eventQueue[i]),c=i}function J(t){t&&t.hasOwnProperty("configReq")&&t.hasOwnProperty("player")&&t.configReq.length>0&&void 0!==t.player?(i(t.configReq),window.clearInterval(t.player.lsPopulatedInterval),t.player.lsPopulatedInterval=0):e._listeners.fireEvent("error",{type:"error",msg:"Error in handleConfigRequest. Args is null or missing configReq or player."})}var H=e.PLDPR=e.PLDPR||{},K=window.NOLBUNDLE,X=K.sdkvForConfig?K.sdkvForConfig():"bj.6.0.0",Y="6.0.0",$="19",Z=e.getBaseBuildVer?e.getBaseBuildVer()+"19":"6.0.019",ee="cgi-bin/",te=K.getConfigAddress?K.getConfigAddress():K.getAddress(),ae="cfg",ne="error",re=e.getLS(),oe=e.getConfigVer?e.getConfigVer():300,ie=5,se={"[":{end:"]",count:0},"{":{end:"}",count:0},"<":{end:/\.\d+,\d+\>/g,count:0}},le={regex:/\|\![\w\W]*?(\!\|)/g,length:2},de=/[\[\{<\(\}\]>\)]/g,ce=H.dataObj||{},pe=0,ue=0,me=5,ve=5,fe=[],_e,ge=2,ye=!1,he=[],we="false",Pe=we,Se,Oe={},Te={},Le={},be=!1,Ce=!1,Ee,ke={send:function(a,n){var r=a,o=-1!==r.url.indexOf("&c62=")?t(r.url,"c62=")+"&c62=sendTime,"+(void 0!==n?n:Ie()/1e3>>0):r.url,i=this,s=t(o,"rnd=")+"&rnd="+Math.round(1e6*Math.random()),l=Ce?{onerror:{},onload:{}}:new Image;l.onerror=function(e){i.onError(e,r)},l.onload=function(e){},e.postMsgAvail&&r.hasOwnProperty("maskRefUrl")&&-1!==r.maskRefUrl&&"true"===r.maskRefUrl?Be.sendMaskedPing(s):Ce?navigator.sendBeacon(s):l.src=s},setup:function(e){var t=this,a=e.hasOwnProperty("url")?e.url:"",n=e.params||{url:a,errorDelay:1e3*(e.delay||ve),retry:0,maskRefUrl:e.hasOwnProperty("maskRefUrl")&&String(e.maskRefUrl).length>0?e.maskRefUrl:-1};a&&a.length>0&&t.send(n,e.pingSendTime)},onError:function(e,t){var a=this,n=e.target.src;t&&t.retry<me&&n&&n.length>0&&(t.retry+=1,t.url=n,window.setTimeout(function(){a.send(t)},t.errorDelay))}},Ie=K.getTIme||function(){return(new Date).getTime()},Me={},De=function(){var e="nol_eventData",t="nol_eventDataDelimiter",a="nol_eventDataEvents",n="nol_eventDataEnabled",r=":",o={delimiter:"",eventsList:[]},i=function(){return{play:{name:"play",abbrv:"PL"},pause:{name:"pause",abbrv:"PU"},rewind:{name:"rewind",abbrv:"RW"},forward:{name:"forward",abbrv:"FW"},stop:{name:"stop",abbrv:"ST"},resume:{name:"resume",abbrv:"RE"},mute:{name:"mute",abbrv:"MT"}}}(),s={get:function(t,a){var n="";return t&&(n=D({data:t,param:e,vidType:a||t._currVidType})),n},set:function(t,a,n){return t&&D({data:t,param:e,val:a,vidType:n||t._currVidType}),t},clear:function(t){t&&(D({data:t,param:e,val:"",vidType:"ad"}),D({data:t,param:e,val:"",vidType:"content"}))},clone:function(e){try{return{content:s.get(e,"content"),ad:s.get(e,"ad")}}catch(e){return null}},bind:function(e,t){try{if(e&&t)for(var a in t)s.set(e,t[a],a)}catch(e){}},append:function(e,t){if(e&&t){var a=s.get(e),n=s.delimiter(e),r=s.parseEventData(t);s.set(e,a?[a,r].join(n):r)}},delimiter:function(e){return e?(o.delimiter||(o.delimiter=D({data:e,param:t})),o.delimiter):""},isEnabled:function(e){return!!e&&"true"===D({data:e,param:n})},isEventEnabled:function(e,t){if(t&&e){var a=s.lookupEvent(e.toLowerCase());if(a)return s.eventsList(t).indexOf(a.name)>-1}return!1},eventsList:function(e){if(e){if(!o.eventsList||0==o.eventsList.length){var t=D({data:e,param:a});t&&(o.eventsList=t.split(","))}return o.eventsList}},clearCache:function(){o.delimiter="",o.eventsList=[]},lookupEvent:function(e){return e?i[e.toLowerCase()]:null},parseEventData:function(e){var t="";if(e){var a=s.lookupEvent(e.event);if(a){var n=[a.abbrv,e.timestamp,e.curPos];void 0!==e.prevPos&&null!==e.prevPos&&e.curPos!=e.prevPos&&n.push(e.prevPos),void 0!==e.p1&&null!==e.p1&&n.push(e.p1),t=n.join(":")}}return t},handleEvent:function(e,t){e&&t&&s.isEventEnabled(t.event,e)&&s.append(e,t)},setNextTick:function(e,t,a){var n=s.get(e,a);if(n&&n.indexOf("{{nextTick}}")>-1)if(t&&t.event===Ae.events.playhead)e=s.set(e,n.replace(/{{nextTick}}/gi,1==t.curPos?"0":t.curPos),a);else{var r=xe.state.position.current(e,a)||"0";e=s.set(e,n.replace(/{{nextTick}}/gi,r),a)}return e},preProcess:function(e,t){try{e&&t&&t.event&&t.event!==Ae.events.play&&-1===t.event.indexOf("event_")&&(s.setNextTick(e,t),t.event===Ae.events.stop&&"content"!==xe.type.current(e)&&s.setNextTick(e,t,"content"),s.handleEvent(e,t))}catch(e){}},postProcess:function(e,t){try{e&&t&&t.event&&t.event===Ae.events.play&&s.handleEvent(e,t)}catch(e){}}};return{get:s.get,set:s.set,clone:s.clone,bind:s.bind,clear:s.clear,append:s.append,isEnabled:s.isEnabled,isEventEnabled:s.isEventEnabled,preProcess:s.preProcess,postProcess:s.postProcess,setNextTick:s.setNextTick}}(),xe={_keys:{currentPosition:"nolPriv_currPos",currentTimestamp:"nolPriv_now",stateCurrentPosition:"nolPriv_stateCurrentPH",stateCurrentTimestamp:"nolPriv_stateCurrentTS",stateCurrentStatus:"nolPriv_stateCurrentStatus",stateCurrentAsset:"nolPriv_stateCurrentAsset",stateCurrentType:"nolPriv_stateCurrentType",statePreviousPosition:"nolPriv_statePreviousPH",statePreviousTimestamp:"nolPriv_statePreviousTS",statePreviousStatus:"nolPriv_statePreviousStatus",statePreviousAsset:"nolPriv_statePreviousAsset",statePreviousType:"nolPriv_statePreviousType",tagName:"nol_comment",localTimer:"nol_timer"},states:{loaded:"LOADED",playing:"PLAYING",paused:"PAUSED",stopped:"STOPPED"},findPlayer:function(t){if(t){if("string"==typeof t)return e._players[t];var a=D({data:t,param:"nol_playerId"});return xe.findPlayer(a)}return null},currentPosition:function(e){return n(D({data:e,param:xe._keys.currentPosition}),"num")},currentTimestamp:function(e){return n(D({data:e,param:xe._keys.currentTimestamp}),"num")},asset:{current:function(e){return e?e._currAssetid:null},parse:function(e){var t=Oe.nol_assetid?Oe.nol_assetid.clientField:"nol_assetid";return e?e[t]:null}},type:{isCurrentlyContent:function(e){return"content"===e._currVidType},isCurrentlyAd:function(e){return"ad"===e._currVidType},isCurrentlyStatic:function(e){return"static"===e._currVidType},current:function(e){return e._currVidType},parse:function(e,t){var a=Oe.nol_vidtype?Oe.nol_vidtype.clientField:"nol_vidtype",n=t[a]?t[a].toString().toLowerCase():"",r=","+D({data:e,param:"nol_contentType"});return n&&-1!==r.indexOf(","+n)?"content":"dcrstatic"===D({data:e,param:"nol_product"})?"static":"ad"}},tagName:function(e,t){return D({data:e,param:xe._keys.tagName,vidType:t||e._currVidType})},localTimer:function(e,t){return D({data:e,param:xe._keys.localTimer,vidType:t||e._currVidType})||"nol_fdoffset"},isInitialized:function(e,t){try{return t=t||e._currVidType,"{}"!==JSON.stringify(e._dataArrObj[t])}catch(e){return!1}},updateMetadata:function(t,a,n){try{var r={nolParams:["nol_assetid","nol_assetName","nol_title","nol_vcTitle","nol_category","nol_channelName","nol_clientid","nol_vcid","nol_vidtype","nol_adLoadType"]},o=function(e){var t=!0;for(var a in r.nolParams)if(n&&n.hasOwnProperty(r.nolParams[a])&&e===n[r.nolParams[a]].clientField){t=!1;break}return t};if(!t||!a)return;var i=void 0!==n&&"object"==typeof n&&n;for(var s in a)a.hasOwnProperty(s)&&(i&&o(s)?D({data:t,param:String(s),val:String(a[s])}):e._listeners.fireEvent("warn",{type:"warn",msg:"Attempt to update metadata field "+s+" is not allowed. Please remove "+s+" from your metadata parameter."}))}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Failed to update metadata"})}},state:{position:{current:function(e,t){return n(D({data:e,param:xe._keys.stateCurrentPosition,vidType:t||e._currVidType}),"num")},previous:function(e,t){return n(D({data:e,param:xe._keys.statePreviousPosition,vidType:t||e._currVidType}),"num")},set:function(e,t,a){var n=xe.state.position.current(e);D({data:e,param:xe._keys.statePreviousPosition,val:n,vidType:a||e._currVidType}),D({data:e,param:xe._keys.stateCurrentPosition,val:t,vidType:a||e._currVidType})}},timeStamp:{current:function(e,t){return n(D({data:e,param:xe._keys.stateCurrentTimestamp,vidType:t||e._currVidType}),"num")},previous:function(e,t){return n(D({data:e,param:xe._keys.statePreviousTimestamp,vidType:t||e._currVidType}),"num")},set:function(e,t,a){var n=xe.state.timeStamp.current(e);D({data:e,param:xe._keys.statePreviousTimestamp,val:n,vidType:a||e._currVidType}),D({data:e,param:xe._keys.stateCurrentTimestamp,val:t,vidType:a||e._currVidType})}},asset:{current:function(e,t){return D({data:e,param:xe._keys.stateCurrentAsset,vidType:t||e._currVidType})},previous:function(e,t){return D({data:e,param:xe._keys.statePreviousAsset,vidType:t||e._currVidType})},set:function(e,t,a){var n=xe.state.asset.current(e);D({data:e,param:xe._keys.statePreviousAsset,val:n,vidType:a||e._currVidType}),D({data:e,param:xe._keys.stateCurrentAsset,val:t,vidType:a||e._currVidType})}},status:{current:function(e,t){return D({data:e,param:xe._keys.stateCurrentStatus,vidType:t||e._currVidType})},previous:function(e,t){return D({data:e,param:xe._keys.statePreviousStatus,vidType:t||e._currVidType})},set:function(e,t,a){var n=xe.state.status.current(e,a);D({data:e,param:xe._keys.statePreviousStatus,val:n,vidType:a||e._currVidType}),D({data:e,param:xe._keys.stateCurrentStatus,val:t,vidType:a||e._currVidType})}},type:{current:function(e,t){return D({data:e,param:xe._keys.stateCurrentType,vidType:t||e._currVidType})},previous:function(e,t){return D({data:e,param:xe._keys.statePreviousType,vidType:t||e._currVidType})},set:function(e,t,a){var n=xe.state.type.current(e,a);D({data:e,param:xe._keys.statePreviousType,val:n,vidType:a||e._currVidType}),D({data:e,param:xe._keys.stateCurrentType,val:t,vidType:a||e._currVidType})}},set:function(e,t){var a=xe.findPlayer(e);switch(t.event){case"LOAD":xe.state.asset.set(e,t.assetId),xe.state.type.set(e,t.contentType),xe.state.timeStamp.set(e,t.timestamp);break;case"PLAY":case"RESUME":xe.state.status.set(e,xe.states.playing),xe.state.asset.set(e,t.assetId),xe.state.type.set(e,t.contentType),xe.state.timeStamp.set(e,t.timestamp),"PLAY"===t.event&&xe.state.position.set(e,0),
"RESUME"===t.event&&void 0!=t.currentPos&&null!=t.currentPos&&"{{nextTick}}"!=t.currentPos&&(xe.state.position.set(e,t.curPos),xe.state.timeStamp.set(e,t.timestamp)),a.pauseObj.eventPauseTime=0;break;case"PAUSE":xe.state.status.set(e,xe.states.paused);break;case"STOP":xe.state.resetAsset(e),xe.state.status.set(e,xe.states.stopped);break;case"PLAYHEAD":xe.state.position.set(e,t.curPos),xe.state.timeStamp.set(e,t.timestamp),a.pauseObj.eventPauseTime=0;break;case"REWIND":case"FORWARD":xe.state.position.set(e,t.curPos),xe.state.timeStamp.set(e,t.timestamp),a.pauseObj.eventPauseTime=0;break;case"MUTE":break;case"event_play":a.pauseObj.eventPauseTime=0}},get:function(e,t){try{if(e){return{position:{current:xe.state.position.current(e,t),previous:xe.state.position.previous(e,t)},timeStamp:{current:xe.state.timeStamp.current(e,t),previous:xe.state.timeStamp.previous(e,t)},asset:{current:xe.state.asset.current(e,t),previous:xe.state.asset.previous(e,t)},status:{current:xe.state.status.current(e,t),previous:xe.state.status.previous(e,t)},type:{current:xe.state.type.current(e,t),previous:xe.state.type.previous(e,t)}}}}catch(e){}return null},resetAsset:function(e){xe.state.position.set(e,null),xe.state.timeStamp.set(e,null),xe.state.asset.set(e,null)},bind:function(e,t){try{if(e&&t)for(var a in t)D({data:e,param:xe._keys.statePreviousPosition,val:t[a].position?t[a].position.previous:null,vidType:a}),D({data:e,param:xe._keys.stateCurrentPosition,val:t[a].position?t[a].position.current:null,vidType:a}),D({data:e,param:xe._keys.statePreviousTimestamp,val:t[a].timeStamp?t[a].timeStamp.current:null,vidType:a}),D({data:e,param:xe._keys.stateCurrentTimestamp,val:t[a].timeStamp?t[a].timeStamp.current:null,vidType:a}),D({data:e,param:xe._keys.statePreviousAsset,val:t[a].asset?t[a].asset.current:null,vidType:a}),D({data:e,param:xe._keys.stateCurrentAsset,val:t[a].asset?t[a].asset.current:null,vidType:a}),D({data:e,param:xe._keys.statePreviousStatus,val:t[a].status?t[a].status.current:null,vidType:a}),D({data:e,param:xe._keys.stateCurrentStatus,val:t[a].status?t[a].status.current:null,vidType:a}),D({data:e,param:xe._keys.statePreviousType,val:t[a].type?t[a].type.current:null,vidType:a}),D({data:e,param:xe._keys.stateCurrentType,val:t[a].type?t[a].type.current:null,vidType:a})}catch(e){}},clone:function(e){try{return{content:xe.state.get(e,"content"),ad:xe.state.get(e,"ad")}}catch(e){}}}},Ae=function(){var t={load:"LOAD",play:"PLAY",pause:"PAUSE",stop:"STOP",resume:"RESUME",rewind:"REWIND",forward:"FORWARD",playhead:"PLAYHEAD",mute:"MUTE",unmute:"UNMUTE"},a={checkRewind:function(e,t){if(e&&void 0!==t&&null!==t&&"stream"!==D({data:e,param:"nol_cadence"})&&"impression"!==D({data:e,param:"nol_cadence"})){var a=Math.floor(n(t,"num")),r=xe.state.position.current(e);return{match:a-r<0,currentPos:a,previousPos:r}}return!1},checkForward:function(e,t){if(e&&void 0!==t&&null!==t&&"stream"!==D({data:e,param:"nol_cadence"})&&"impression"!==D({data:e,param:"nol_cadence"})){var a=Math.floor(n(t,"num")),r=xe.state.position.current(e),o=xe.state.timeStamp.current(e),i=n(D({data:e,param:"nol_cmsIntrvlGp"}),"num")||2,s=Math.ceil(Ie()/1e3-o)||1;if(0==r&&a>86400&&"nol_cmsoffset"===xe.localTimer(e)){var l=Math.round(Ie()/1e3).toString().substr(0,t.toString().length);l&&(r=parseInt(l))}var d=a-r;return{match:d>i&&d>Math.ceil(1.5*s),currentPos:a,previousPos:r}}return!1}},r={checkRewind:function(e,t){var a=xe.currentPosition(e),r=xe.currentTimestamp(e),o=n(D({data:e,param:"nol_id3IntrvlGp"}),"num");return!1},checkForward:function(e,t){var a=xe.currentPosition(e),r=xe.currentTimestamp(e),o=n(D({data:e,param:"nol_id3IntrvlGp"}),"num");return!1}};return{events:t,inferEvent:{inferEvent:function(r,o,i,s,l){var d=null;try{if(d={event:"event_"+r,curPos:xe.state.position.current(o),prevPos:null,timestamp:s},r&&o)switch(r.toLowerCase()){case"3":case"15":case"loadmetadata":case"pauseloadmeta":var c=xe.asset.parse(l),p=xe.state.asset.current(o),u=xe.state.asset.previous(o),m=xe.state.type.current(o),v=xe.type.parse(o,l);if(d.event=t.load,d.assetId=c,d.contentType=v,xe.state.status.current(o,v)==xe.states.paused&&(p==c&&null!==c||m!==v)){d.event=t.resume,d.assetId=c,d.contentType=v,d.curPos="{{nextTick}}";break}if(xe.state.status.current(o,v)!==xe.states.playing&&p!=c||xe.state.status.current(o,v)===xe.states.stopped&&u==c&&null!==c||null===p){d.event=t.play,d.curPos="{{nextTick}}";break}break;case"5":case"play":d.event="event_play";break;case"7":case"stop":d.event="event_stop";break;case"57":case"end":case"oncomplete":d.event=t.stop;break;case"49":case"setplayheadposition":case"playheadposition":if(i>-1){var f=a.checkRewind(o,i);if(f.match){d.event=t.rewind,d.curPos=f.currentPos,d.prevPos=f.previousPos,d.p1=d.prevPos-d.curPos;break}if(-1===De.get(o).indexOf("{{nextTick}}")){var _=a.checkForward(o,i);if(_.match){d.event=t.forward,d.curPos=_.currentPos,d.prevPos=_.previousPos,d.p1=d.curPos-d.prevPos;break}}if(xe.state.status.current(o)===xe.states.paused){d.event=t.resume,d.assetId=xe.state.asset.current(o),d.contentType=xe.type.current(o),d.curPos=i;break}d.event=t.playhead,d.curPos=i}break;case"55":var g=D({data:o,param:D({data:o,param:"nol_timer"})})||D({data:o,param:"nol_fdoffset"});"daypart"===D({data:o,param:"nol_cadence"})&&(g=n(g,"num"),g+="nol_pcoffset"==D({data:o,param:"nol_timer"})?n(D({data:o,param:"nol_pcTimeCode"}),"num"):n(D({data:o,param:"nol_fdTimeCode"}),"num")),d.event=t.playhead;break;case"9":case"mute":d.event=t.mute,d.p1=i}}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in eventsController. Error inferring event - "+r})}return d}}.inferEvent}}(),Be=function(e,t,a){var n={sendMaskedPing:function(r,o){e.lsReady()?t.contentWindow.postMessage(JSON.stringify({eventType:"maskref",data:{url:r}}),t.src):(o=o||0)<a.maxRetry&&setTimeout(function(){n.sendMaskedPing(r,o+1)},300)}};return{sendMaskedPing:n.sendMaskedPing}}(e,re,{maxRetry:me});return H.initFromConfig=function(t,a,n){e._listeners.fireEvent("info",{type:"info",msg:"Recieved config response."});try{if(t&&t.nol_GLOBALS){var r,i,s=Ie(),l,c,p,u,m="localhost",v=t.nol_GLOBALS.debugSfcode||"uat-cert",f=t.nol_GLOBALS.nol_appid||"",_=t.nol_GLOBALS.nol_lsid||"",g=t.nol_GLOBALS.nol_emmURL||(t.nol_GLOBALS.nol_tagMap&&t.nol_GLOBALS.nol_tagMap.nol_defaults?t.nol_GLOBALS.nol_tagMap.nol_defaults.nol_emmURL:"")||"",y=t.nol_GLOBALS.nol_sessionIdUrl||"",h,w,P,S,O,T,L,b;if(""!==y&&ke.setup({pingSendTime:"undefined",url:y}),n&&(e.optoutCookie&&"TOTAL"===e.optoutCookie&&"OPTOUT"!==e.localStorageId&&(_="OPTOUT",e._listeners.fireEvent("debug",{type:"debug",msg:'Optout cookie was set but lsid was "'+e.localStorageId+'". Setting lsid to OPTOUT'})),""===_&&("-1"===e.localStorageId?_="999":""===e.localStorageId?_=e.generateGUID():e.localStorageId&&(_=e.localStorageId)),g=e.userAgent.isIOS()||e.userAgent.isAndroid()?g.replace("|!nol_lsid!|",_):""),e._listeners.fireEvent("debug",{type:"debug",msg:"Cached lsid: "+e.localStorageId+"; config lsid: "+_}),e._listeners.fireEvent("debug",{type:"debug",msg:"Cached emm: "+e.EMMURL+"; config emm: "+g}),""===g&&""!==_?e.setLsId(_):""!==g&&(""!==_&&e.localStorageId!==_||g!==e.EMMURL)&&(e.setLsId(_,g),e.setEmmUrl(g)),e._listeners.fireEvent("sendOptOutStatus","OPTOUT"==_),void 0!==t.nol_GLOBALS.nol_maxRetry&&null!==t.nol_GLOBALS.nol_maxRetry&&""!==t.nol_GLOBALS.nol_maxRetry){var C=parseInt(t.nol_GLOBALS.nol_maxRetry);C>-1&&(me=C)}if(t&&t.hasOwnProperty("nol_GLOBALS")){var E=a||t.nol_GLOBALS.nol_playerId||0;if(!(i=e._players[E]))return;m=t.nol_GLOBALS.nol_sfcode||m,e._listeners.fireEvent("debug",{type:"debug",msg:'SDK instance "'+i.name+'" initialized with globals '+JSON.stringify(i.getConfigParams().ggParams)}),i.pauseObj={pauseTime:0,eventPauseTime:0,maxPauseTime:parseInt(t.nol_GLOBALS.nol_pauseTimeout)||1800,cmsPauseTime:parseInt(t.nol_GLOBALS.nol_pauseEventTimeoutPlayhead)||15},n&&(t.nol_GLOBALS.nol_serverTime=Ie()/1e3>>0),b=e.localStorage?ce[E]?ce[E].nol_serverTime||e.localStorage.getItem("nol_serverTime"):e.localStorage.getItem("nol_serverTime")||0:ce[E]?ce[E].nol_serverTime:0,b===t.nol_GLOBALS.nol_serverTime?pe=ce[E]?ce[E].nolPriv_serverTimeOffset:t.nol_GLOBALS.nol_serverTime-Math.round(s/1e3):(pe=t.nol_GLOBALS.nol_serverTime-Math.round(s/1e3),e.localStorage&&e.localStorage.setItem("nol_serverTime",t.nol_GLOBALS.nol_serverTime)),ve=t.nol_GLOBALS.nol_errorWait||ve,r=i.getConfigParams().ggParams||{},ce[E]=o(ce[E]),ce[E].nolPriv_serverTimeOffset=pe,ce&&ce.hasOwnProperty(E)?ce[E].nol_nielsenAdSupportFlg=0:e._listeners.fireEvent("error",{type:"error",msg:"Error in initFromConfig. Invalid data object or playerId."}),_e&&(window.clearInterval(_e),_e=0),t.nol_GLOBALS.nol_sendTimer&&(_e=window.setInterval(function(){d({serverTimeOffset:ce[E].nolPriv_serverTimeOffset,url:"__sendIt"})},1e3*t.nol_GLOBALS.nol_sendTimer));for(l in r)r.hasOwnProperty(l)&&(ce[E][l]=r[l]);for(l in t.nol_GLOBALS)t.nol_GLOBALS.hasOwnProperty(l)&&(ce[E][l]=t.nol_GLOBALS[l]);Te=ce[E].nol_eventFilter||{},Le=ce[E].nol_serviceFilter||{},Ee=ce[E].nol_id3Map||{};for(l in ce[E].nol_clientCMSmap)ce[E].nol_clientCMSmap.hasOwnProperty(l)&&(w=ce[E].nol_clientCMSmap[l].toString()||"",P=w.replace(de,""),O=w.match(de)||[],S={clientField:P.toString(),encoding:O.join("")},Oe[l]=S);if(r&&r.hasOwnProperty("nol_override")&&Object.keys(r.nol_override).length>0)for(l in r.nol_override)r.nol_override[l].length>0&&(ce[E][l]=r.nol_override[l]);t.nol_GLOBALS.hasOwnProperty("nol_maxStaticInstances")&&K.hasOwnProperty("setTotalNumAssetsAllowed")&&K.setTotalNumAssetsAllowed(t.nol_GLOBALS.nol_maxStaticInstances),i.configLoaded=!0,n&&(ce[E].nol_prefProtocol=e.userAgent.isIOS()&&e.userAgent.iosVersion().major>=9?"https":0===te.indexOf("https")?"https":"http",ce[E].nol_playerId=E,ce[E].nol_nuid=_,ce[E].nol_emmURL=g,ce[E].nol_bldv=Z,ce[E].nol_sdkv=i.sdkvForConfig,ce[E].nol_assetName=t.nol_GLOBALS.hasOwnProperty("nol_assetName")&&t.nol_GLOBALS.nol_assetName.length>0?t.nol_GLOBALS.nol_assetName:"defChnAsset",ce[E].nol_sfcode=r.sfcode,ce[E].nol_dcrsfcode=r.sfcode,ce[E].nol_apn=r.apn||(t.nol_GLOBALS.hasOwnProperty("nol_apn")&&t.nol_GLOBALS.nol_apn.length>0?t.nol_GLOBALS.nol_apn:""),ce[E].nol_nmspc="NOLBUNDLE"),ce[E].nol_lstrg="",ce[E].nol_userSessionId=i.sessionId,ce[E].nol_useroptout="",e.userAgent.isAndroid()?ce[E].nol_vriDeviceTypeId="0003":e.userAgent.isIOS()?ce[E].nol_vriDeviceTypeId="0002":ce[E].nol_vriDeviceTypeId="0001",_&&"999"!==_&&!e.userAgent.isFB()&&(ce[E].nol_lstrg="lstrg-"+_)}if(t&&t.hasOwnProperty("nol_TAGS"))for(ce[E].tagSize=t.nol_TAGS.length,ce[E].tags=[],e._listeners.fireEvent("debug",{type:"debug",msg:"NIELSEN TAGS EXPECTED TO FIRE:"}),l=0;l<ce[E].tagSize;l+=1)e._listeners.fireEvent("debug",{type:"debug",msg:String(t.nol_TAGS[l].nol_comment)}),ce[E].tags.push(new W(JSON.parse(JSON.stringify(t.nol_TAGS[l])),i));void 0!==e.enablePlayer&&e.enablePlayer(E,"PLDPR"),ce[E].bReInit=!1,r.nol_hybridCfg&&window&&window.JSON&&(h=window.document.createElement("script"),h.text="(function() {if (typeof "+r.nol_hybridCfg+" === 'function'){"+r.nol_hybridCfg+"('"+JSON.stringify(t)+"')}}())",window.document.head?(window.document.head.appendChild(h),window.document.head.removeChild(h)):(window.document.getElementsByTagName("head")[0].appendChild(h),window.document.getElementsByTagName("head")[0].removeChild(h))),ce[E].forceStreamRegen=!1,e._listeners.addListener("tick",function(){i&&i.hasOwnProperty("pauseObj")&&i.pauseObj.hasOwnProperty("pauseTime")&&(i.pauseObj.pauseTime+=1,i.pauseObj.eventPauseTime+=1)}),i&&i.configLoaded&&window.NOLBUNDLE&&window.NOLBUNDLE.controllers&&window.NOLBUNDLE.controllers.util&&window.NOLBUNDLE.controllers.util.fireCustomEvent&&window.NOLBUNDLE.controllers.util.fireCustomEvent("NSDK_Initialized",{instanceName:i.name,instance:i}),e._listeners.fireEvent("flushQueue")}else window.console&&window.console.warn&&window.console.warn("Warning: CMS config response is not valid. Please ensure NOL global parameter values are correct."),e._listeners.fireEvent("warn",{type:"warn",msg:"Warning in initFromConfig. NOL global parameters are not valid."})}catch(t){window.console&&window.console.error&&window.console.error("Error initializing CMS config response. Please ensure NOL global parameter values are correct."),e._listeners.fireEvent("error",{type:"error",msg:"Error in initFromConfig. Error parsing config response."})}},H.getCmsMap=function(t){try{if(void 0!==t&&"string"==typeof t||e._listeners.fireEvent("error",{type:"error",msg:"Error in getCmsMap. PlayerID must be passed as string data type."}),ce&&ce.hasOwnProperty(t)&&void 0!==ce[t].nol_clientCMSmap)return ce[t].nol_clientCMSmap}catch(t){e._listeners.fireEvent("error",{type:"error",msg:"Error in getCmsMap."})}},H.init=function(t){var a=t.getConfigParams()||{},n,r,o=e.getIfLsidShouldSend()?e.getLsId():void 0,i,s="",d=0===te.indexOf("https")?"https":"http";i={pli:{val:a.nol_playerId||0,protect:!0},nmspc:{val:"NOLBUNDLE",protect:!0},sdkv:{val:X,protect:!0},fmt:{val:"jsonp",protect:!0},apn:{val:"Tester",protect:!1},fbtag:{val:"true",protect:!1},cfgv:{val:oe,protect:!0},bldv:{val:Z,protect:!0},prefprotocol:{val:d,protect:!1}},t.addListener("ggPM",function(e){C(e)}),t.lsPopulatedInterval=0,t.lsCurrentRetry=0,t.serviceSending={tsv:!1,stn:!1},t.ottStatusObj={},t.oServiceCall={},t.static={started:!1};for(n in a.ggParams)!a.ggParams.hasOwnProperty(n)||i[n]&&i[n].protect||0==n.indexOf("nol_")||(i[n]={val:l(a.ggParams[n])});for(n in i)i.hasOwnProperty(n)&&(s+=n+"="+i[n].val+"&");s=s.substr(0,s.length-1),r=te.replace(/[\w\W]*?:\/\//g,""),t.useCachedConfig||(void 0===o||t.lsPopulatedInterval?void 0===o&&(Se=d+"://"+r+ee+"cfg?"+s+"&sendTime="+Math.floor(Ie()/1e3),J({configReq:Se,player:t})):t.lsPopulatedInterval=window.setInterval(function(){o=e.getLsId(),"-1"!==o?(Se=d+"://"+r+ee+"cfg?"+s+"&lsid="+o+"&sendTime="+Math.floor(Ie()/1e3),J({configReq:Se,player:t})):2===t.lsCurrentRetry?(Se=d+"://"+r+ee+"cfg?"+s+"&lsid=999&sendTime="+Math.floor(Ie()/1e3),J({configReq:Se,player:t})):t.lsCurrentRetry+=1},1e3))},H.built||(H.built=!0,H.BUILDVERSION=Z,H.dataObj=ce,e.bindPlayers(H,"PLDPR"),e._listeners.fireEvent("flushQueue")),H}),window.NOLBUNDLE.registerLib("PLDCR",function(e){"use strict";function t(e,t){var a={};return a.set=function(e,t){return a.init=!0,a.elapsed=0,a.startTimeStamp=0,"function"==typeof e&&(a.funcCall=e),isNaN(t)||(a.intervalTime=t),a},a.play=function(e){return a.isActive||(e?(a.startTimeStamp=0,a.elapsed=0,a.setTimer()):a.setTimer(a.remaining),a.isActive=!0),a},a.pause=function(){return a.isActive&&(a.isActive=!1,a.remaining-=Date.now()-a.last,a.clearTimer()),a},a.stop=function(){return a.isActive=!1,a.remaining=a.intervalTime,a.clearTimer(),a},a.clearTimer=function(){window.clearTimeout(a.timeoutObject)},a.setTimer=function(e){var t=a;"function"==typeof a.funcCall&&(isNaN(e)&&(e=a.intervalTime),a.remaining=e,a.last=Date.now(),a.clearTimer(),a.timeoutObject=window.setTimeout(function(){t.tick()},e))},a.tick=function(){a.isActive&&(a.elapsed++,a.funcCall(),a.setTimer())},a.init?a:(a.set(e,t),a)}function a(){s.dcrTimer&&(s.latestDcrTickVal=s.dcrTimer.elapsed,e._listeners.fireEvent("dcrHeartbeat",s.dcrTimer.elapsed))}function n(t){e.globalHasFocus&&!e.globalHasFocus()&&(e._listeners.fireEvent("info",{type:"info",msg:"Page onBlur fired and stopped static timer: "+JSON.stringify(t,function(e,t){if("string"==typeof t)return t})}),s.dcrTimer&&s.dcrTimer.pause())}function r(t){e._listeners.fireEvent("info",{type:"info",msg:"Page onFocus fired and playing static timer: "+JSON.stringify(t,function(e,t){if("string"==typeof t)return t})}),s.dcrTimer&&s.dcrTimer.play(s._reset),s._reset=!1}function o(t){!document.hidden&&e.globalHasFocus&&e.globalHasFocus()?(e._listeners.fireEvent("info",{type:"info",msg:"Page visibilityApi - VISIBLE"}),s.dcrTimer&&s.dcrTimer.play(s._reset),s._reset=!1):(e._listeners.fireEvent("info",{type:"info",msg:"Page visibilityApi - HIDDEN"}),s.dcrTimer&&s.dcrTimer.pause())}function i(e){s.dcrTimer&&s.dcrTimer.stop()}var s=e.PLDCR=e.PLDCR||{dcrTimer:void 0,startDcrTime:0,latestDcrTickVal:0,_reset:!1},l="6.0.0",d="0",c=window.NOLBUNDLE,p=e.getBaseBuildVer?e.getBaseBuildVer()+"0":"6.0.00";return s.startDcrTick=function(){},s.latestDcrTick=function(){return s.latestDcrTickVal},s.start=function(n){var r=!e.globalHasFocus||e.globalHasFocus();s._reset=n,(null===s.dcrTimer||void 0===s.dcrTimer||n)&&(r?(s.dcrTimer=t(a,1e3).play(!0),s._reset=!1):s.dcrTimer=t(a,1e3))},s.stop=function(){s.dcrTimer&&s.dcrTimer.stop()},s.init=function(e){c.browserSafeAddEventListener({element:window,eventType:"blur",func:n,useCapture:!1}),c.browserSafeAddEventListener({element:window,eventType:"focus",func:r,useCapture:!1}),c.browserSafeAddEventListener({element:window,eventType:"beforeunload",func:i,useCapture:!1}),c.browserSafeAddEventListener({element:window,eventType:"pagehide",func:i,useCapture:!1}),document.addEventListener&&document.addEventListener("visibilitychange",o)},s.built||(s.built=!0,s.BUILDVERSION=p,e.bindPlayers(s,"PLDCR")),s}),window.NOLBUNDLE.registerLib("PLLOG",function(e){"use strict";function t(t){if(t){var a=String(t).toUpperCase();if(m.hasOwnProperty(a))for(var n in m[a]){var r=String(n).toLowerCase();e._listeners.addListener(r,m[a][r])}}}function a(e){return e&&e.target&&e.target.hasOwnProperty("msg")?e.target.msg:""}function n(e){window.console&&console.info("Nielsen Log: Info - ",a(e))}function r(e){window.console&&console.log("Nielsen Log: Debug - ",a(e))}function o(e){window.console&&console.log("Nielsen Log: Logger - ",a(e))}function i(e){window.console&&console.warn("Nielsen Log: Warn - ",a(e))}function s(e){window.console&&console.error("Nielsen Log: Error - ",a(e))}var l=e.PLLOG=e.PLLOG||{},d=window.NOLBUNDLE,c="6.0.0",p="0",u=e.getBaseBuildVer?e.getBaseBuildVer()+"0":"6.0.0"+_localBuildVer,m={INFO:{info:n},DEBUG:{info:n,debug:r,warn:i,error:s},WARN:{info:n,warn:i},ERROR:{info:n,error:s},CONSOLE:{info:n},TRUE:{info:n},LOGGER:{logger:o}};return l.init=function(e){if(e&&e.getConfigParams){var a=e.getConfigParams();a.hasOwnProperty("ggParams")&&a.ggParams.hasOwnProperty("nol_sdkDebug")&&t(a.ggParams.nol_sdkDebug)}},l.built||(l.built=!0,l.BUILDVERSION=u,e.bindPlayers(l,"PLLOG")),l});